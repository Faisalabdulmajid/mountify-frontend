{"version":3,"file":"static/js/51.0ffee1e5.chunk.js","mappings":"2LAoIA,QA/HA,WACE,MAAOA,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,OACtCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAC7B,cAAEK,IAAkBC,EAAAA,EAAAA,MAE1BC,EAAAA,EAAAA,WAAU,KACsBC,WAC5BN,GAAa,GACbE,EAAS,MACT,IACE,MAAMK,QAAiBC,MAAM,+CAADC,OACqBN,IAEjD,IAAKI,EAASG,GACZ,MAAM,IAAIC,MACR,yDAGJ,MAAMC,QAAaL,EAASM,OAC5BC,QAAQC,IACN,iCACAC,KAAKC,UAAUL,EAAM,KAAM,IAE7Bf,EAAce,EAChB,CAAE,MAAOM,GACPhB,EAASgB,EAAIC,QACf,CAAC,QACCnB,GAAa,EACf,GAGFoB,IACC,CAACjB,IAEJ,MAAMkB,EAAqBC,IACzB,IAAKA,EAAe,MAAO,GAE3B,OADa,IAAIC,KAAKD,GACVE,mBAAmB,QAAS,CACtCC,QAAS,OACTC,IAAK,UACLC,MAAO,OACPC,KAAM,aAuEV,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UAC3BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,eAAcC,UAC3BF,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,GAAG,cAAcJ,UAAU,eAAcC,SAAC,yCAvElCI,MACpB,GAAIpC,EACF,OAAO8B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAAC,qBAExC,GAAI9B,EACF,OAAO4B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sBAAqBC,SAAE9B,IAE/C,IAAKL,EACH,OAAOiC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAAC,0BAIxC,MAqBMK,GArBcC,EAqBGzC,EAAWyC,SApBQ,SAAzBA,EAAOC,cAOlBD,EAAOC,cAAcC,SAAS,UACzB,CACLT,UAAW,aACXU,KAAM,kBACNC,MAAOJ,GAGJ,CACLP,UAAW,YACXU,KAAM,4BACNC,MAAOJ,GAhBA,CACLP,UAAW,WACXU,KAAM,yBACNC,MAAO,QALOJ,MAuBpB,OACEL,EAAAA,EAAAA,MAAA,WAASF,UAAU,oBAAmBC,SAAA,EACpCC,EAAAA,EAAAA,MAAA,UAAQF,UAAU,iBAAgBC,SAAA,EAChCC,EAAAA,EAAAA,MAAA,QAAMF,UAAS,eAAArB,OAAiB2B,EAAIN,WAAYC,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,KAAGC,UAAWM,EAAII,OAAU,IAAEJ,EAAIK,UAEpCZ,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gBAAeC,SAAEnC,EAAW8C,SAC1CV,EAAAA,EAAAA,MAAA,OAAKF,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,cAAaC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAwB,QAC/BlC,EAAW+C,cAAgB,YAEnCX,EAAAA,EAAAA,MAAA,QAAMF,UAAU,YAAWC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBACZT,EAAkBzB,EAAWgD,6BAQpCf,EAAAA,EAAAA,KAAA,OACEC,UAAU,eACVe,wBAAyB,CACvBC,OAAQlD,EAAWmD,sBAetBZ,OAIT,C","sources":["pages/public/Pengumuman/HalamanDetailPengumuman.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\n// Kita akan meminjam beberapa gaya dari artikel\r\nimport \"./HalamanDetailPengumuman.css\";\r\n\r\nfunction HalamanDetailPengumuman() {\r\n  const [pengumuman, setPengumuman] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { id_pengumuman } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchDetailPengumuman = async () => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      try {\r\n        const response = await fetch(\r\n          `http://localhost:5000/api/public/pengumuman/${id_pengumuman}`\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            \"Pengumuman tidak ditemukan atau belum dipublikasikan.\"\r\n          );\r\n        }\r\n        const data = await response.json();\r\n        console.log(\r\n          \"Data detail pengumuman (full):\",\r\n          JSON.stringify(data, null, 2)\r\n        ); // Debug: tampilkan seluruh isi object\r\n        setPengumuman(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDetailPengumuman();\r\n  }, [id_pengumuman]);\r\n\r\n  const formatDisplayDate = (isoDateString) => {\r\n    if (!isoDateString) return \"\";\r\n    const date = new Date(isoDateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      weekday: \"long\",\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const renderContent = () => {\r\n    if (isLoading) {\r\n      return <div className=\"detail-status\">Memuat konten...</div>;\r\n    }\r\n    if (error) {\r\n      return <div className=\"detail-status error\">{error}</div>;\r\n    }\r\n    if (!pengumuman) {\r\n      return <div className=\"detail-status\">Data tidak ditemukan.</div>;\r\n    }\r\n\r\n    // Mendapatkan tag dan ikon berdasarkan target pengumuman\r\n    const getTagInfo = (target) => {\r\n      if (!target || target.toLowerCase() === \"umum\") {\r\n        return {\r\n          className: \"tag-umum\",\r\n          icon: \"bi bi-info-circle-fill\",\r\n          label: \"Umum\",\r\n        };\r\n      }\r\n      if (target.toLowerCase().includes(\"gunung\")) {\r\n        return {\r\n          className: \"tag-gunung\",\r\n          icon: \"bi bi-image-alt\",\r\n          label: target,\r\n        };\r\n      }\r\n      return {\r\n        className: \"tag-jalur\",\r\n        icon: \"bi bi-signpost-split-fill\",\r\n        label: target,\r\n      };\r\n    };\r\n    const tag = getTagInfo(pengumuman.target);\r\n\r\n    return (\r\n      <article className=\"content-container\">\r\n        <header className=\"content-header\">\r\n          <span className={`content-tag ${tag.className}`}>\r\n            <i className={tag.icon}></i> {tag.label}\r\n          </span>\r\n          <h1 className=\"content-title\">{pengumuman.judul}</h1>\r\n          <div className=\"content-meta\">\r\n            <span className=\"meta-author\">\r\n              <i className=\"bi bi-person-fill\"></i>\r\n              Oleh {pengumuman.nama_penulis || \"Admin\"}\r\n            </span>\r\n            <span className=\"meta-date\">\r\n              <i className=\"bi bi-calendar-event\"></i>\r\n              {formatDisplayDate(pengumuman.tanggal_publikasi)}\r\n            </span>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Jika ada gambar utama untuk pengumuman, bisa ditambahkan di sini */}\r\n        {/* <img src={pengumuman.url_gambar_utama} alt={pengumuman.judul} className=\"content-featured-image\" /> */}\r\n\r\n        <div\r\n          className=\"content-body\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: pengumuman.isi_pengumuman, // tanpa sanitizeHtml untuk tes\r\n          }}\r\n        />\r\n      </article>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-wrapper\">\r\n      <div className=\"container\">\r\n        <div className=\"page-top-nav\">\r\n          <Link to=\"/pengumuman\" className=\"kembali-link\">\r\n            &larr; Kembali ke Arsip Pengumuman\r\n          </Link>\r\n        </div>\r\n        {renderContent()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HalamanDetailPengumuman;\r\n"],"names":["pengumuman","setPengumuman","useState","isLoading","setIsLoading","error","setError","id_pengumuman","useParams","useEffect","async","response","fetch","concat","ok","Error","data","json","console","log","JSON","stringify","err","message","fetchDetailPengumuman","formatDisplayDate","isoDateString","Date","toLocaleDateString","weekday","day","month","year","_jsx","className","children","_jsxs","Link","to","renderContent","tag","target","toLowerCase","includes","icon","label","judul","nama_penulis","tanggal_publikasi","dangerouslySetInnerHTML","__html","isi_pengumuman"],"sourceRoot":""}