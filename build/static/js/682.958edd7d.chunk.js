"use strict";(self.webpackChunkspk_gunung=self.webpackChunkspk_gunung||[]).push([[682],{682:(a,e,n)=>{n.r(e),n.d(e,{default:()=>sa});var s,i=n(2555),t=n(5043),r=n(1283),l=new Uint8Array(16);function c(){if(!s&&!(s="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(l)}const d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const u=function(a){return"string"===typeof a&&d.test(a)};for(var o=[],m=0;m<256;++m)o.push((m+256).toString(16).substr(1));const h=function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[a[e+0]]+o[a[e+1]]+o[a[e+2]]+o[a[e+3]]+"-"+o[a[e+4]]+o[a[e+5]]+"-"+o[a[e+6]]+o[a[e+7]]+"-"+o[a[e+8]]+o[a[e+9]]+"-"+o[a[e+10]]+o[a[e+11]]+o[a[e+12]]+o[a[e+13]]+o[a[e+14]]+o[a[e+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n};const g=function(a,e,n){var s=(a=a||{}).random||(a.rng||c)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=s[i];return e}return h(s)};var p=n(579);const k="http://localhost:5000/api",x={id_gunung:"",max_kesulitan_skala:7,min_keamanan_skala:6,max_estimasi_waktu_jam:48,max_ketinggian_mdpl:5e3,min_kualitas_fasilitas_skala:5,min_kualitas_kemah_skala:5,min_keindahan_pemandangan_skala:6,min_ketersediaan_air:5,min_variasi_lanskap:5,min_perlindungan_angin:5,min_jaringan_komunikasi:3,min_tingkat_keamanan_insiden:5,ketinggian:"semua",lokasi:"semua",inputType:"slider",quickSearch:""},j={id:g(),text:"Halo! Saya Asisten Virtual Mountify. Ada yang bisa saya bantu? Coba ketik 'cari rekomendasi gunung'.",sender:"bot",timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},_=a=>a?"".concat(k.replace("/api","")).concat(a):"https://placehold.co/600x400/27ae60/FFFFFF?text=Mountify",b=function(a,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{id:g(),text:a,sender:e,payload:n,timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},f=function(a){setTimeout(()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)},v=a=>{switch(a){case 1:return"Sangat Mudah (1)";case 2:return"Sangat Mudah+ (2)";case 3:return"Mudah (3)";case 4:return"Mudah+ (4)";case 5:return"Sedang (5)";case 6:return"Sedang+ (6)";case 7:return"Sulit (7)";case 8:return"Sulit+ (8)";case 9:return"Sangat Sulit (9)";case 10:return"Ekstrem (10)";default:return"Level ".concat(a)}},y=a=>{switch(a){case 1:return"Sangat Berisiko (1)";case 2:return"Berisiko Tinggi (2)";case 3:return"Berisiko Sedang (3)";case 4:return"Berisiko Rendah (4)";case 5:return"Cukup Aman (5)";case 6:return"Aman (6)";case 7:return"Aman+ (7)";case 8:return"Sangat Aman (8)";case 9:return"Sangat Aman+ (9)";case 10:return"Maksimal Aman (10)";default:return"Level ".concat(a)}},N=a=>{switch(a){case 1:return"Sangat Minim (1)";case 2:return"Minim (2)";case 3:return"Terbatas (3)";case 4:return"Cukup (4)";case 5:return"Standar (5)";case 6:return"Baik (6)";case 7:return"Lengkap (7)";case 8:return"Sangat Lengkap (8)";case 9:return"Premium (9)";case 10:return"Mewah (10)";default:return"Level ".concat(a)}},S=a=>{switch(a){case 1:return"Sangat Terbatas (1)";case 2:return"Terbatas (2)";case 3:return"Kurang Nyaman (3)";case 4:return"Cukup Nyaman (4)";case 5:return"Nyaman (5)";case 6:return"Baik (6)";case 7:return"Sangat Baik (7)";case 8:return"Istimewa (8)";case 9:return"Premium (9)";case 10:return"Ekslusif (10)";default:return"Level ".concat(a)}},w=a=>{switch(a){case 1:return"Kurang Menarik (1)";case 2:return"Biasa Saja (2)";case 3:return"Cukup Menarik (3)";case 4:return"Menarik (4)";case 5:return"Indah (5)";case 6:return"Sangat Indah (6)";case 7:return"Menakjubkan (7)";case 8:return"Spektakuler (8)";case 9:return"Istimewa (9)";case 10:return"Luar Biasa (10)";default:return"Level ".concat(a)}},C=a=>{switch(a){case 1:return"Sangat Langka (1)";case 2:return"Langka (2)";case 3:return"Terbatas (3)";case 4:return"Kurang (4)";case 5:return"Cukup (5)";case 6:return"Tersedia (6)";case 7:return"Banyak (7)";case 8:return"Melimpah (8)";case 9:return"Sangat Melimpah (9)";case 10:return"Berlimpah Ruah (10)";default:return"Level ".concat(a)}},T=a=>{switch(a){case 1:return"Sangat Monoton (1)";case 2:return"Monoton (2)";case 3:return"Kurang Bervariasi (3)";case 4:return"Cukup Bervariasi (4)";case 5:return"Bervariasi (5)";case 6:return"Sangat Bervariasi (6)";case 7:return"Beragam (7)";case 8:return"Sangat Beragam (8)";case 9:return"Spektakuler (9)";case 10:return"Luar Biasa Beragam (10)";default:return"Level ".concat(a)}},A=a=>{switch(a){case 1:return"Sangat Terekspos (1)";case 2:return"Terekspos (2)";case 3:return"Kurang Terlindungi (3)";case 4:return"Cukup Terlindungi (4)";case 5:return"Terlindungi (5)";case 6:return"Baik Terlindungi (6)";case 7:return"Sangat Terlindungi (7)";case 8:return"Maksimal Terlindungi (8)";case 9:return"Sempurna Terlindungi (9)";case 10:return"Ideal Terlindungi (10)";default:return"Level ".concat(a)}},M=a=>{switch(a){case 1:return"Tidak Ada Sinyal (1)";case 2:return"Sinyal Sangat Lemah (2)";case 3:return"Sinyal Lemah (3)";case 4:return"Sinyal Terbatas (4)";case 5:return"Sinyal Cukup (5)";case 6:return"Sinyal Baik (6)";case 7:return"Sinyal Sangat Baik (7)";case 8:return"Sinyal Kuat (8)";case 9:return"Sinyal Sangat Kuat (9)";case 10:return"Sinyal Optimal (10)";default:return"Level ".concat(a)}},L=a=>{switch(a){case 1:return"Insiden Sangat Sering (1)";case 2:return"Insiden Sering (2)";case 3:return"Insiden Cukup Sering (3)";case 4:return"Insiden Kadang (4)";case 5:return"Insiden Sedang (5)";case 6:return"Insiden Jarang (6)";case 7:return"Insiden Sangat Jarang (7)";case 8:return"Sangat Aman (8)";case 9:return"Amat Sangat Aman (9)";case 10:return"Maksimal Aman (10)";default:return"Level ".concat(a)}},R=a=>a?a<=4?"difficulty-pemula":a<=7?"difficulty-menengah":"difficulty-ahli":"difficulty-default",I=a=>a?a<=4?"Pemula":a<=7?"Menengah":"Ahli":"N/A",P=a=>{let{src:e,alt:n,onError:s}=a;return(0,p.jsx)("img",{src:e,alt:n,className:"card-image",onError:s})},K=a=>{let{difficulty:e}=a;return e?(0,p.jsx)("span",{className:"difficulty-badge ".concat(R(e)),children:I(e)}):null},F=a=>{let{score:e,category:n,label:s="Skor"}=a;if(!e)return null;const i=a=>a>=80?"score-excellent":a>=65?"score-good":a>=50?"score-fair":a>=35?"score-poor":"score-bad";return(0,p.jsxs)("div",{className:"score-badge-container",children:[(0,p.jsxs)("span",{className:"score-badge ".concat(i(e)),children:[s,": ",e.toFixed(1)]}),n&&(0,p.jsx)("span",{className:"category-badge ".concat(i(e)),children:n})]})};function E(a){let{trail:e,index:n}=a;return(0,p.jsxs)("div",{className:"result-card animate-in",style:{animationDelay:"".concat(100*n,"ms")},children:[(0,p.jsx)(P,{src:_(e.url_thumbnail),alt:e.nama_jalur,onError:a=>{a.target.onerror=null,a.target.src="https://placehold.co/600x400/2c3e50/FFFFFF?text=Error"}}),(0,p.jsxs)("div",{className:"card-content",children:[(0,p.jsxs)("div",{className:"badge-container",children:[(0,p.jsx)(K,{difficulty:e.kesulitan_skala}),(0,p.jsx)(F,{score:e.skor_rekomendasi,category:e.kategori_rekomendasi})]}),(0,p.jsx)("h3",{className:"card-title",children:e.nama_jalur}),(0,p.jsx)("p",{className:"card-subtitle",children:e.nama_gunung}),e.ketinggian_puncak_mdpl&&(0,p.jsxs)("p",{className:"card-info",children:[e.ketinggian_puncak_mdpl.toLocaleString()," mdpl"]}),e.estimasi_waktu_jam&&(0,p.jsxs)("p",{className:"card-info",children:["\u23f1\ufe0f ",e.estimasi_waktu_jam," jam"]}),e.keamanan_skala&&(0,p.jsxs)("p",{className:"card-info",children:["\ud83d\udee1\ufe0f Keamanan: ",y(e.keamanan_skala)]}),(0,p.jsx)(r.N_,{to:"/jalur/".concat(e.id_jalur),className:"details-button",children:"Lihat Detail"})]})]})}function B(a){let{mountain:e,index:n}=a;return(0,p.jsxs)("div",{className:"result-card animate-in",style:{animationDelay:"".concat(100*n,"ms")},children:[(0,p.jsx)(P,{src:_(e.url_thumbnail),alt:e.nama_gunung,onError:a=>{a.target.onerror=null,a.target.src="https://placehold.co/600x400/2c3e50/FFFFFF?text=Error"}}),(0,p.jsxs)("div",{className:"card-content",children:[(0,p.jsx)("div",{className:"badge-container",children:(0,p.jsx)(F,{score:e.skor_tertinggi,category:e.kategori_rekomendasi,label:"Skor Terbaik"})}),(0,p.jsx)("h3",{className:"card-title",children:e.nama_gunung}),(0,p.jsx)("p",{className:"card-subtitle",children:e.lokasi_administratif}),e.jalur_terbaik&&(0,p.jsxs)("p",{className:"card-info",children:["\ud83e\udd7e Jalur Terbaik: ",e.jalur_terbaik]}),"undefined"!==typeof e.jumlah_jalur&&(0,p.jsxs)("p",{className:"card-info",children:["\ud83d\udccd ",e.jumlah_jalur," jalur tersedia"]}),e.ketinggian&&(0,p.jsxs)("p",{className:"card-info",children:["\u26f0\ufe0f ",e.ketinggian.toLocaleString()," mdpl"]}),(0,p.jsx)(r.N_,{to:"/gunung/".concat(e.id_gunung),className:"details-button",children:"Lihat Detail"})]})]})}const D=a=>{let{message:e,botAvatar:n,userAvatar:s,isBot:i}=a;return(0,p.jsxs)("div",{className:"message-row ".concat(e.sender),children:[i&&(0,p.jsx)("img",{src:n,alt:"bot avatar",className:"message-avatar"}),(0,p.jsxs)("div",{className:"message-content",children:[e.text&&(0,p.jsx)("p",{className:"message-bubble ".concat(e.sender),children:e.text}),e.payload&&(0,p.jsx)("div",{className:"rich-response-grid",children:e.payload.map((a,e)=>(0,p.jsx)(E,{trail:a,index:e},a.id_jalur||e))}),(0,p.jsx)("div",{className:"message-timestamp-container ".concat(e.sender),children:(0,p.jsx)("span",{className:"message-timestamp",children:e.timestamp})})]}),!i&&(0,p.jsx)("img",{src:s,alt:"user avatar",className:"message-avatar"})]})},V=a=>{let{botAvatar:e}=a;return(0,p.jsxs)("div",{className:"message-row bot",children:[(0,p.jsx)("img",{src:e,alt:"bot avatar",className:"message-avatar"}),(0,p.jsx)("div",{className:"message-bubble",children:(0,p.jsxs)("div",{className:"typing-indicator",children:[(0,p.jsx)("span",{}),(0,p.jsx)("span",{}),(0,p.jsx)("span",{})]})})]})},G=a=>{let{onClose:e}=a;return(0,p.jsxs)("div",{className:"chatbot-header",children:["Asisten Virtual Mountify",(0,p.jsx)("button",{className:"chatbot-close-button",onClick:e,children:"\xd7"})]})},J=a=>{let{inputValue:e,setInputValue:n,onSubmit:s}=a;return(0,p.jsxs)("form",{className:"chatbot-input-form",onSubmit:s,children:[(0,p.jsx)("input",{type:"text",value:e,onChange:a=>n(a.target.value),placeholder:"Ketik pesan Anda..."}),(0,p.jsx)("button",{type:"submit",children:"Kirim"})]})},O=a=>{let{id:e,name:n,value:s,onChange:i,min:t=1,max:r=10,inputType:l,getDescription:c,rangeLabels:d={min:"Rendah",max:"Tinggi"}}=a;if("dropdown"===l){const a=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0;const s=new Map;for(let i=a;i<=e;i++){const a=n(i),e="".concat(a,"_").concat(i);s.has(e)||s.set(e,{value:i,label:a,originalValue:i})}return Array.from(s.values()).sort((a,e)=>a.originalValue-e.originalValue).map(a=>({value:a.value,label:a.label}))}(t,r,c);return(0,p.jsx)("select",{id:e,name:n,className:"scale-dropdown",value:s,onChange:i,children:a.map(a=>(0,p.jsx)("option",{value:a.value,children:a.label},a.value))})}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("input",{type:"range",id:e,name:n,className:"range-input",value:s,onChange:i,min:t,max:r,step:"1"}),(0,p.jsxs)("div",{className:"range-labels",children:[(0,p.jsx)("span",{children:d.min}),(0,p.jsx)("span",{children:d.max})]})]})},U=a=>{let{id:e,name:n,value:s,onChange:i,inputType:t}=a;if("dropdown"===t){const a=[{value:6,label:"6 jam"},{value:12,label:"12 jam"},{value:18,label:"18 jam"},{value:24,label:"1 hari"},{value:36,label:"1.5 hari"},{value:48,label:"2 hari"},{value:72,label:"3 hari"},{value:96,label:"4 hari"},{value:120,label:"5 hari"},{value:144,label:"6 hari"},{value:168,label:"1 minggu"}];return(0,p.jsx)("select",{id:e,name:n,className:"time-dropdown",value:s,onChange:i,children:a.map(a=>(0,p.jsx)("option",{value:a.value,children:a.label},a.value))})}return(0,p.jsxs)("div",{className:"time-input-container",children:[(0,p.jsx)("input",{type:"number",id:e,name:n,className:"number-input",value:s,onChange:i,min:"1",max:"168"}),(0,p.jsx)("span",{className:"unit",children:"Jam"})]})},H=a=>{let{inputType:e,onInputTypeChange:n}=a;return(0,p.jsxs)("div",{className:"input-type-switcher",children:[(0,p.jsx)("span",{className:"switcher-label",children:"Mode Input:"}),(0,p.jsxs)("div",{className:"switcher-buttons",children:[(0,p.jsx)("button",{type:"button",className:"switcher-button ".concat("slider"===e?"active":""),onClick:()=>n("slider"),children:"Kontrol"}),(0,p.jsx)("button",{type:"button",className:"switcher-button ".concat("dropdown"===e?"active":""),onClick:()=>n("dropdown"),children:"Pilihan"})]})]})},q=async(a,e)=>{const n="".concat(k,"jalur"===e?"/rekomendasi/jalur":"/rekomendasi/gunung"),s={max_kesulitan_skala:a.max_kesulitan_skala,min_keamanan_skala:a.min_keamanan_skala,max_estimasi_waktu_jam:a.max_estimasi_waktu_jam,max_ketinggian_mdpl:a.max_ketinggian_mdpl,min_keindahan_pemandangan_skala:a.min_keindahan_pemandangan_skala,min_ketersediaan_air:a.min_ketersediaan_air,min_kualitas_fasilitas_skala:a.min_kualitas_fasilitas_skala,min_kualitas_kemah_skala:a.min_kualitas_kemah_skala,min_variasi_lanskap:a.min_variasi_lanskap,min_perlindungan_angin:a.min_perlindungan_angin,min_jaringan_komunikasi:a.min_jaringan_komunikasi,min_tingkat_keamanan_insiden:a.min_tingkat_keamanan_insiden,id_gunung:a.id_gunung||void 0,search_term:a.quickSearch||void 0};Object.keys(s).forEach(a=>{void 0!==s[a]&&""!==s[a]||delete s[a]});try{console.log("\ud83d\udd0d Fetching recommendations from:",n),console.log("\ud83d\udcdd Request data:",s);const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)});console.log("\ud83d\udce1 Response status:",a.status),console.log("\ud83d\udce1 Response URL:",a.url);const e=a.headers.get("content-type");if(console.log("\ud83d\udcc4 Content-Type:",e),!a.ok){let s="HTTP Error ".concat(a.status);try{if(e&&e.includes("application/json")){s=(await a.json()).message||s}else{const e=await a.text();console.error("\u274c HTML Error Response:",e.substring(0,200)),s=404===a.status?"Endpoint tidak ditemukan: ".concat(n,". Pastikan backend sudah berjalan."):a.status>=500?"Server error (".concat(a.status,"). Cek console backend untuk detail."):"Request gagal (".concat(a.status,"). Response bukan JSON.")}}catch(i){console.error("\u274c Error parsing response:",i),s="Request gagal (".concat(a.status,"). Cannot parse response.")}throw new Error(s)}if(!e||!e.includes("application/json")){const e=await a.text();throw console.error("\u274c Unexpected response type:",e.substring(0,200)),new Error("Server mengembalikan HTML bukan JSON. Pastikan endpoint backend benar: ".concat(n))}const t=await a.json();return console.log("\u2705 Recommendations received:",t),t}catch(t){if(console.error("\u274c fetchRecommendations error:",t),t.message.includes("fetch"))throw new Error("Tidak dapat terhubung ke server. Pastikan backend sudah berjalan di http://localhost:5000");throw t}},W=a=>{let{onClose:e}=a;const[n,s]=(0,t.useState)([]),[i,r]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[d]=(0,t.useState)(g()),u=(0,t.useRef)(null),o="https://cdn-icons-png.flaticon.com/512/8649/8649595.png";(0,t.useEffect)(()=>{var a;null===(a=u.current)||void 0===a||a.scrollIntoView({behavior:"smooth"})},[n,l]),(0,t.useEffect)(()=>{s([j])},[]);return(0,p.jsxs)("div",{className:"chatbot-container",children:[(0,p.jsx)(G,{onClose:e}),(0,p.jsxs)("div",{className:"chatbot-messages",children:[n.map(a=>(0,p.jsx)(D,{message:a,botAvatar:o,userAvatar:"https://cdn-icons-png.flaticon.com/512/1144/1144760.png",isBot:"bot"===a.sender},a.id)),l&&(0,p.jsx)(V,{botAvatar:o}),(0,p.jsx)("div",{ref:u})]}),(0,p.jsx)(J,{inputValue:i,setInputValue:r,onSubmit:async a=>{if(a.preventDefault(),""===i.trim())return;const e=b(i,"user");s(a=>[...a,e]),r(""),c(!0);try{const a=await(async(a,e)=>{const n=await fetch("".concat(k,"/dialogflow-proxy"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a,sessionId:e})});if(!n.ok)throw new Error("Gagal berkomunikasi dengan asisten.");return n.json()})(i,d),e=(a=>(a.fulfillmentMessages||[]).map(a=>{var e,n;if(a.text&&a.text.text[0])return b(a.text.text[0],"bot");if(a.payload&&"recommendation_card"===(null===(e=a.payload.fields)||void 0===e||null===(n=e.type)||void 0===n?void 0:n.stringValue)){const e=a.payload.fields.data.listValue.values.map(a=>{const e={};return Object.keys(a.structValue.fields).forEach(n=>{const s=a.structValue.fields[n];e[n]=s.stringValue||s.numberValue}),e});return b(null,"bot",e)}return null}).filter(Boolean))(a);s(a=>[...a,...e])}catch(n){const a=b("Maaf, terjadi gangguan. Coba beberapa saat lagi.","bot");s(e=>[...e,a])}finally{c(!1)}}})]})},z=a=>{let{onStartChat:e}=a;return(0,p.jsx)("div",{className:"chatbot-welcome-container",children:(0,p.jsxs)("div",{className:"welcome-content",children:[(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/8649/8649595.png",alt:"Asisten Virtual",className:"chatbot-welcome-icon"}),(0,p.jsx)("h2",{className:"chatbot-welcome-title",children:"Asisten Virtual Mountify"}),(0,p.jsx)("p",{className:"chatbot-welcome-description",children:"Dapatkan rekomendasi gunung dengan percakapan yang natural dan interaktif"}),(0,p.jsx)("button",{className:"chatbot-start-button",onClick:e,children:"Mulai Percakapan"})]})})},Y=()=>(0,p.jsx)("svg",{className:"spinner",viewBox:"0 0 50 50",children:(0,p.jsx)("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})}),Z=()=>(0,p.jsxs)("svg",{className:"no-results-illustration",width:"120",height:"120",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M17.5 17.5L22 22",stroke:"#bdc3c7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,p.jsx)("path",{d:"M20 11C20 15.9706 15.9706 20 11 20C6.02944 20 2 15.9706 2 11C2 6.02944 6.02944 2 11 2C15.9706 2 20 6.02944 20 11Z",stroke:"#bdc3c7",strokeWidth:"2"}),(0,p.jsx)("path",{d:"M13.2963 8.70371C12.9361 8.34351 12.4335 8.14844 11.9082 8.14844C11.3829 8.14844 10.8803 8.34351 10.5201 8.70371C10.1599 9.06391 9.96484 9.56651 9.96484 10.0918",stroke:"#bdc3c7",strokeWidth:"2",strokeLinecap:"round"}),(0,p.jsx)("path",{d:"M10.5 15.5C10.5 15.5 11.25 14.5 12 14.5C12.75 14.5 13.5 15.5 13.5 15.5",stroke:"#bdc3c7",strokeWidth:"2",strokeLinecap:"round"})]}),$=a=>{let{error:e,onRetry:n,context:s="operasi"}=a;return(0,p.jsxs)("div",{className:"error-display",children:[(0,p.jsx)("div",{className:"error-icon",children:e.includes("terhubung")||e.includes("fetch")?"\ud83d\udd0c":e.includes("404")||e.includes("tidak ditemukan")?"\ud83d\udd0d":e.includes("500")||e.includes("server error")?"\u26a0\ufe0f":e.includes("JSON")||e.includes("HTML")?"\ud83d\udcc4":"\u274c"}),(0,p.jsxs)("h3",{children:["Gagal memuat ",s]}),(0,p.jsx)("p",{className:"error-message",children:e}),(0,p.jsx)("p",{className:"error-help",children:e.includes("terhubung")||e.includes("fetch")?"Pastikan backend server sudah berjalan di http://localhost:5000":e.includes("404")||e.includes("tidak ditemukan")?"Endpoint API mungkin belum tersedia atau URL salah":e.includes("500")||e.includes("server error")?"Cek console backend untuk error detail":e.includes("JSON")||e.includes("HTML")?"Server mengembalikan format response yang tidak sesuai":"Coba refresh halaman atau hubungi administrator"}),n&&(0,p.jsx)("button",{className:"retry-button",onClick:n,style:{background:"#e74c3c",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",marginTop:"12px"},children:"\ud83d\udd04 Coba Lagi"})]})};const Q=()=>{const[a,e]=(0,t.useState)([]),[n,s]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{try{const a=await(async()=>{try{console.log("\ud83c\udfd4\ufe0f Fetching mountains list from:","".concat(k,"/gunung"));const a=await fetch("".concat(k,"/gunung"));if(!a.ok)throw new Error("HTTP Error ".concat(a.status,": Gagal memuat daftar gunung"));const e=a.headers.get("content-type");if(!e||!e.includes("application/json"))throw new Error("Server mengembalikan response bukan JSON untuk daftar gunung");const n=await a.json();return console.log("\u2705 Mountains list received:",n.length,"items"),n}catch(n){if(console.error("\u274c fetchMountainsList error:",n),n.message.includes("fetch"))throw new Error("Tidak dapat terhubung ke server untuk memuat daftar gunung");throw n}})();e(a)}catch(a){console.error("Error fetching mountains list:",a),s("Gagal memuat daftar gunung. Silakan refresh halaman.")}})()},[]),{mountainsList:a,error:n}},X=(a,e,n,s,t,r,l,c)=>({handleChange:a=>{const{name:n,value:s}=a.target,t=["id_gunung","ketinggian","lokasi","inputType","provinsi","musim","tipe_pendakian"].includes(n)?s:Number(s);e(a=>(0,i.A)((0,i.A)({},a),{},{[n]:t}))},handleInputTypeChange:a=>{e(e=>(0,i.A)((0,i.A)({},e),{},{inputType:a}))},handleReset:()=>{e(x),n([]),s(!1),r(null)},handleRecommendationSubmit:async e=>{e.preventDefault(),t(!0),s(!0),r(null),n([]);try{const e=await q(a,c);let s=[],i=null;e.rekomendasi_jalur&&"jalur"===c?(s=e.rekomendasi_jalur,i=e.metadata):e.rekomendasi_gunung&&"gunung"===c?(s=e.rekomendasi_gunung,i=e.metadata):e.recommendations?s=e.recommendations:Array.isArray(e)&&(s=e),i&&s.length>0&&(s[0].metadata=i),n(s),f(l)}catch(i){r(i.message)}finally{t(!1)}},handleShowAll:async()=>{t(!0),s(!0),r(null),n([]);try{const a=await(async a=>{const e="".concat(k,"jalur"===a?"/jalur":"/gunung");try{console.log("\ud83d\udcca Fetching all data from:",e);const n=await fetch(e);if(!n.ok)throw new Error("HTTP Error ".concat(n.status,": Gagal memuat daftar ").concat(a));const s=n.headers.get("content-type");if(!s||!s.includes("application/json"))throw new Error("Server mengembalikan response bukan JSON untuk daftar ".concat(a));const i=await n.json();return console.log("\u2705 All ".concat(a," data received:"),Array.isArray(i)?i.length:"object","items"),i}catch(n){if(console.error("\u274c fetchAllData error:",n),n.message.includes("fetch"))throw new Error("Tidak dapat terhubung ke server untuk memuat daftar ".concat(a));throw n}})(c);let e=[],s=null;a.rekomendasi_jalur&&"jalur"===c?(e=a.rekomendasi_jalur,s=a.metadata):a.rekomendasi_gunung&&"gunung"===c?(e=a.rekomendasi_gunung,s=a.metadata):e=Array.isArray(a)?a:a.data||[],s&&e.length>0&&(e[0].metadata=s),n(e),f(l)}catch(a){r(a.message)}finally{t(!1)}}}),aa=a=>{let{value:e,onChange:n,onSearch:s,isCalculating:i}=a;return(0,p.jsx)("div",{className:"simple-search-container",children:(0,p.jsxs)("div",{className:"search-bar",children:[(0,p.jsx)("input",{type:"text",className:"search-input",placeholder:"Cari nama gunung atau jalur...",value:e,onChange:a=>n(a.target.value),onKeyPress:a=>"Enter"===a.key&&s()}),(0,p.jsx)("button",{type:"button",className:"search-btn",onClick:s,disabled:i,children:i?"...":"Cari"})]})})},ea=a=>{let{results:e,searchMode:n}=a;const[s,i]=(0,t.useState)(!1),r=()=>{const a=e.length,s="jalur"===n?"jalur pendakian":"gunung";return"Saya menemukan ".concat(a," rekomendasi ").concat(s," terbaik di Mountify! \ud83c\udfd4\ufe0f \n    \nLihat rekomendasi lengkap di: ").concat(window.location.href,"\n\n#Mountify #Pendakian #Gunung #Indonesia")};return e.length?(0,p.jsxs)("div",{className:"share-container",children:[(0,p.jsxs)("button",{className:"share-toggle-btn",onClick:()=>i(!s),children:[(0,p.jsx)("i",{className:"icon",children:"\ud83d\udce4"}),"Bagikan Hasil"]}),s&&(0,p.jsxs)("div",{className:"share-menu",children:[(0,p.jsxs)("button",{className:"share-option whatsapp",onClick:()=>{const a=encodeURIComponent(r());window.open("https://wa.me/?text=".concat(a),"_blank")},children:[(0,p.jsx)("i",{className:"icon",children:"\ud83d\udcf1"}),"WhatsApp"]}),(0,p.jsxs)("button",{className:"share-option email",onClick:()=>{const a=encodeURIComponent("Rekomendasi Pendakian dari Mountify"),e=encodeURIComponent(r());window.open("mailto:?subject=".concat(a,"&body=").concat(e))},children:[(0,p.jsx)("i",{className:"icon",children:"\u2709\ufe0f"}),"Email"]}),(0,p.jsxs)("button",{className:"share-option copy",onClick:async()=>{try{await navigator.clipboard.writeText(r()),alert("Link berhasil disalin!")}catch(a){console.error("Gagal menyalin link:",a)}},children:[(0,p.jsx)("i",{className:"icon",children:"\ud83d\udccb"}),"Salin Link"]})]})]}):null};function na(a){let{open:e,onClose:n}=a;return e?(0,p.jsx)("div",{className:"usage-modal-backdrop",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.4)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,p.jsxs)("div",{className:"usage-modal-content",style:{background:"#fff",borderRadius:8,maxWidth:600,width:"90%",padding:32,boxShadow:"0 4px 24px rgba(0,0,0,0.15)",position:"relative",maxHeight:"90vh",overflowY:"auto",display:"flex",flexDirection:"column"},children:[(0,p.jsx)("button",{onClick:n,style:{position:"sticky",top:0,right:0,alignSelf:"flex-end",fontSize:22,background:"none",border:"none",cursor:"pointer",zIndex:10},"aria-label":"Tutup",children:"\xd7"}),(0,p.jsx)("h2",{style:{marginTop:0},children:"Panduan Penggunaan & Info Kriteria"}),(0,p.jsx)("h3",{children:"Cara Penggunaan"}),(0,p.jsxs)("ol",{style:{paddingLeft:20},children:[(0,p.jsxs)("li",{children:["Pilih mode pencarian: ",(0,p.jsx)("b",{children:"jalur"})," (jalur pendakian) atau"," ",(0,p.jsx)("b",{children:"gunung"})," (rekomendasi gunung terbaik)."]}),(0,p.jsxs)("li",{children:["Atur preferensi menggunakan ",(0,p.jsx)("b",{children:"slider"})," (kontrol) atau"," ",(0,p.jsx)("b",{children:"dropdown"}),' (pilihan deskriptif) dengan klik "Mode Input".']}),(0,p.jsx)("li",{children:"Isi filter sesuai kebutuhan: tingkat kesulitan, keamanan, estimasi waktu, ketinggian, fasilitas, air, variasi lanskap, perlindungan angin, jaringan komunikasi, tingkat insiden, dsb."}),(0,p.jsxs)("li",{children:["Klik ",(0,p.jsx)("b",{children:"Cari Rekomendasi"})," untuk menampilkan hasil."]}),(0,p.jsxs)("li",{children:["Gunakan ",(0,p.jsx)("b",{children:"pencarian cepat"})," (quick search) untuk mencari nama gunung/jalur secara langsung."]}),(0,p.jsxs)("li",{children:["Untuk bantuan interaktif, klik ikon ",(0,p.jsx)("b",{children:"chatbot"})," dan ajukan pertanyaan secara natural."]})]}),(0,p.jsx)("h3",{style:{marginTop:24},children:"Info Kriteria & Skala Filter"}),(0,p.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginBottom:12},children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{style:{background:"#f5f5f5"},children:[(0,p.jsx)("th",{style:{border:"1px solid #ddd",padding:"6px"},children:"Kriteria"}),(0,p.jsx)("th",{style:{border:"1px solid #ddd",padding:"6px"},children:"Rentang & Arti"})]})}),(0,p.jsxs)("tbody",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{style:{border:"1px solid #ddd",padding:"6px"},children:"max_kesulitan_skala"}),(0,p.jsx)("td",{style:{border:"1px solid #ddd",padding:"6px"},children:"1 (sangat mudah) - 10 (ekstrem)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_keamanan_skala"}),(0,p.jsx)("td",{children:"1 (sangat berisiko) - 10 (maksimal aman)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"max_estimasi_waktu_jam"}),(0,p.jsx)("td",{children:"Estimasi waktu tempuh (jam)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"max_ketinggian_mdpl"}),(0,p.jsx)("td",{children:"Ketinggian puncak (meter)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_kualitas_fasilitas_skala"}),(0,p.jsx)("td",{children:"1 (sangat minim) - 10 (mewah)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_kualitas_kemah_skala"}),(0,p.jsx)("td",{children:"1 (sangat terbatas) - 10 (eksklusif)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_keindahan_pemandangan_skala"}),(0,p.jsx)("td",{children:"1 (kurang menarik) - 10 (luar biasa)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_ketersediaan_air"}),(0,p.jsx)("td",{children:"1 (sangat langka) - 10 (berlimpah ruah)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_variasi_lanskap"}),(0,p.jsx)("td",{children:"1 (sangat monoton) - 10 (luar biasa beragam)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_perlindungan_angin"}),(0,p.jsx)("td",{children:"1 (sangat terekspos) - 10 (ideal terlindungi)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_jaringan_komunikasi"}),(0,p.jsx)("td",{children:"1 (tidak ada sinyal) - 10 (sinyal optimal)"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"min_tingkat_keamanan_insiden"}),(0,p.jsx)("td",{children:"1 (insiden sangat sering) - 10 (maksimal aman)"})]})]})]}),(0,p.jsxs)("div",{style:{fontSize:13,color:"#666",marginBottom:8},children:["Semakin tinggi nilai minimum pada filter, semakin ketat hasil rekomendasi.",(0,p.jsx)("br",{}),"Setiap kriteria dapat diatur sesuai kebutuhan pendaki (pemula, menengah, ahli).",(0,p.jsx)("br",{}),"Untuk info detail skala, lihat tooltip atau label pada masing-masing filter di UI."]}),(0,p.jsx)("button",{onClick:n,style:{marginTop:8,background:"#27ae60",color:"#fff",border:"none",padding:"8px 20px",borderRadius:4,cursor:"pointer",alignSelf:"flex-end"},children:"Tutup"})]})}):null}const sa=function(){var a,e,n;const[s,r]=(0,t.useState)("jalur"),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(x),[o,m]=(0,t.useState)([]),[h,g]=(0,t.useState)(!1),[k,j]=(0,t.useState)(!1),[_,b]=(0,t.useState)(null),[R,I]=(0,t.useState)(!1),[P,K]=(0,t.useState)(!1),F=(0,t.useRef)(null),{mountainsList:D,error:V}=Q(),{handleChange:G,handleInputTypeChange:J,handleReset:sa,handleRecommendationSubmit:ia,handleShowAll:ta}=X(d,u,m,g,j,b,F,s);(0,t.useEffect)(()=>{r("virtual"),c(!1)},[]);const ra=a=>{r(a),"virtual"===a?c(!1):sa()};return(0,t.useEffect)(()=>{V&&b(V)},[V]),(0,p.jsxs)("div",{className:"explore-page-container",children:[(0,p.jsx)("button",{className:"usage-guide-btn",style:{position:"fixed",top:90,right:24,zIndex:1100,background:"#27ae60",color:"#fff",border:"none",borderRadius:20,padding:"8px 18px",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},onClick:()=>K(!0),children:"?"}),(0,p.jsx)(na,{open:P,onClose:()=>K(!1)}),(0,p.jsxs)("header",{className:"explore-header",children:[(0,p.jsxs)("div",{className:"header-content",children:[(0,p.jsx)("h1",{children:"Rekomendasi Pendakian"}),(0,p.jsx)("p",{children:"Temukan gunung dan jalur yang sesuai dengan preferensi Anda"})]}),(0,p.jsxs)("div",{className:"mode-switcher",children:[(0,p.jsxs)("button",{onClick:()=>ra("virtual"),className:"mode-btn ".concat("virtual"===s?"active":""),children:[(0,p.jsx)("span",{className:"mode-icon",children:"\ud83e\udd16"}),"Asisten Virtual"]}),(0,p.jsxs)("button",{onClick:()=>ra("gunung"),className:"mode-btn ".concat("gunung"===s?"active":""),children:[(0,p.jsx)("span",{className:"mode-icon",children:"\ud83c\udfd4\ufe0f"}),"Gunung"]}),(0,p.jsxs)("button",{onClick:()=>ra("jalur"),className:"mode-btn ".concat("jalur"===s?"active":""),children:[(0,p.jsx)("span",{className:"mode-icon",children:"\ud83e\udd7e"}),"Jalur"]})]})]}),"virtual"!==s&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(aa,{value:d.quickSearch,onChange:a=>u(e=>(0,i.A)((0,i.A)({},e),{},{quickSearch:a})),onSearch:async()=>{if(d.quickSearch.trim()){j(!0),g(!0),b(null),m([]);try{const a=(0,i.A)((0,i.A)({},d),{},{search_term:d.quickSearch}),e=await q(a,s);let n=[],t=null;e.rekomendasi_jalur&&"jalur"===s?(n=e.rekomendasi_jalur,t=e.metadata):e.rekomendasi_gunung&&"gunung"===s?(n=e.rekomendasi_gunung,t=e.metadata):e.recommendations?n=e.recommendations:Array.isArray(e)&&(n=e),t&&n.length>0&&(n[0].metadata=t),m(n),f(F)}catch(a){b(a.message)}finally{j(!1)}}},isCalculating:k}),(0,p.jsxs)("form",{className:"recommendation-form",onSubmit:ia,children:[(0,p.jsxs)("div",{className:"form-header",children:[(0,p.jsx)("h3",{children:"Preferensi Pendakian"}),(0,p.jsx)("div",{className:"header-controls",children:(0,p.jsx)(H,{inputType:d.inputType,onInputTypeChange:J})})]}),P&&(0,p.jsxs)("div",{className:"help-section",children:[(0,p.jsx)("h4",{className:"help-title",children:"\ud83d\udcd6 Panduan Penggunaan Sistem Rekomendasi"}),(0,p.jsxs)("div",{className:"usage-content",children:[(0,p.jsxs)("div",{className:"usage-step",children:[(0,p.jsx)("h5",{children:"\ud83c\udfaf 1. Pilih Mode Pencarian"}),(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Gunung:"})," Mencari rekomendasi gunung terbaik berdasarkan preferensi"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Jalur:"})," Mencari jalur pendakian spesifik dengan kriteria detail"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Asisten Virtual:"})," Gunakan chatbot untuk pencarian interaktif"]})]})]}),(0,p.jsxs)("div",{className:"usage-step",children:[(0,p.jsx)("h5",{children:"\u2699\ufe0f 2. Atur Mode Input"}),(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Kontrol:"})," Gunakan slider untuk mengatur nilai secara kontinu"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Pilihan:"})," Pilih dari dropdown dengan deskripsi yang jelas"]})]})]}),(0,p.jsxs)("div",{className:"usage-step",children:[(0,p.jsx)("h5",{children:"\ud83d\udd0d 3. Pencarian Cepat"}),(0,p.jsx)("p",{children:"Gunakan kolom pencarian untuk menemukan gunung atau jalur berdasarkan nama secara langsung."})]}),(0,p.jsxs)("div",{className:"usage-step",children:[(0,p.jsx)("h5",{children:"\ud83d\udcca 4. Atur Preferensi"}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:"Sesuaikan setiap kriteria berdasarkan kemampuan dan preferensi Anda"}),(0,p.jsx)("li",{children:"Nilai lebih tinggi = kriteria lebih ketat/spesifik"}),(0,p.jsx)("li",{children:"Gunakan tooltip untuk memahami setiap kriteria"})]})]}),(0,p.jsxs)("div",{className:"usage-step",children:[(0,p.jsx)("h5",{children:"\ud83c\udfaf 5. Dapatkan Rekomendasi"}),(0,p.jsxs)("ul",{children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Dapatkan Rekomendasi:"})," Sistem akan menganalisis preferensi Anda"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Lihat Semua:"})," Tampilkan semua data tanpa filter"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Reset:"})," Kembalikan ke pengaturan default"]})]})]}),(0,p.jsxs)("div",{className:"usage-tip",children:[(0,p.jsx)("h5",{children:"\ud83d\udca1 Tips Penggunaan:"}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:"Mulai dengan kriteria keamanan tinggi untuk pemula"}),(0,p.jsx)("li",{children:"Sesuaikan durasi dengan kemampuan fisik Anda"}),(0,p.jsx)("li",{children:"Pertimbangkan musim dan cuaca saat memilih"}),(0,p.jsx)("li",{children:"Gunakan filter gunung spesifik untuk jalur tertentu"})]})]})]})]}),R&&(0,p.jsxs)("div",{className:"help-section",children:[(0,p.jsx)("h4",{className:"help-title",children:"\ud83d\udccb Info Kriteria Penilaian"}),(0,p.jsx)("div",{className:"criteria-section",children:(0,p.jsxs)("div",{className:"help-grid",children:[(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83e\uddd7 Kesulitan:"})," Tingkat tantangan teknis dan fisik jalur berdasarkan standar nasional & internasional (Grade 1-5, YDS)"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83d\udee1\ufe0f Keamanan:"})," Berdasarkan data insiden BASARNAS & evaluasi SAR"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83c\udfd7\ufe0f Fasilitas:"})," Kelengkapan basecamp, shelter, toilet, dan fasilitas pendukung"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83c\udfd5\ufe0f Area Kemah:"})," Kualitas lokasi bermalam, ground datar, dan perlindungan cuaca"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83c\udf05 Pemandangan:"})," Keindahan panorama, sunrise/sunset, dan daya tarik visual"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\u23f1\ufe0f Durasi:"})," Estimasi waktu naik-turun berdasarkan pengalaman rata-rata pendaki"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\u26f0\ufe0f Ketinggian:"})," Maksimal ketinggian puncak (mdpl)"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83d\udca7 Ketersediaan Air:"})," Akses sumber air bersih sepanjang jalur & area kemah"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83c\udf3f Variasi Lanskap:"})," Keragaman ekosistem, flora-fauna, dan formasi geologis"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83c\udf2a\ufe0f Perlindungan Angin:"})," Tingkat keterlindungan area kemah dari angin kencang"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83d\udcf1 Jaringan Komunikasi:"})," Kualitas sinyal seluler untuk komunikasi darurat"]}),(0,p.jsxs)("div",{className:"help-item",children:[(0,p.jsx)("strong",{children:"\ud83d\udea8 Tingkat Insiden:"})," Riwayat keamanan berdasarkan data SAR & kejadian kecelakaan"]})]})}),(0,p.jsxs)("div",{className:"help-note",children:[(0,p.jsx)("strong",{children:"\ud83d\udcda Referensi:"})," BASARNAS Indonesia, WANADRI, UIAA, Database Gunung Indonesia."]})]}),"jalur"===s&&(0,p.jsxs)("div",{className:"filter-section",children:[(0,p.jsx)("h4",{className:"section-title",children:"Filter Spesifik"}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"id_gunung",children:"Pilih Gunung Tertentu"}),(0,p.jsxs)("select",{id:"id_gunung",name:"id_gunung",className:"filter-select",value:d.id_gunung,onChange:G,children:[(0,p.jsx)("option",{value:"",children:"Semua Gunung"}),D.map(a=>(0,p.jsx)("option",{value:a.id_gunung,children:a.nama_gunung},a.id_gunung))]})]})]}),(0,p.jsxs)("div",{className:"filter-section",children:[(0,p.jsx)("h4",{className:"section-title",children:"Kesulitan & Keamanan"}),(0,p.jsxs)("div",{className:"form-grid",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"max_kesulitan_skala",children:[(0,p.jsx)("span",{children:"Tingkat Kesulitan Maksimal"}),(0,p.jsx)("span",{className:"preference-value",children:v(d.max_kesulitan_skala)})]}),(0,p.jsx)(O,{id:"max_kesulitan_skala",name:"max_kesulitan_skala",value:d.max_kesulitan_skala,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:v,rangeLabels:{min:"Mudah",max:"Sulit"}})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_keamanan_skala",children:[(0,p.jsx)("span",{children:"Tingkat Keamanan Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:y(d.min_keamanan_skala)})]}),(0,p.jsx)(O,{id:"min_keamanan_skala",name:"min_keamanan_skala",value:d.min_keamanan_skala,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:y,rangeLabels:{min:"Berisiko",max:"Sangat Aman"}})]})]})]}),(0,p.jsxs)("div",{className:"filter-section",children:[(0,p.jsx)("h4",{className:"section-title",children:"Durasi & Ketinggian"}),(0,p.jsxs)("div",{className:"form-grid",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("label",{htmlFor:"max_estimasi_waktu_jam",children:"Maksimal Durasi Pendakian"}),(0,p.jsx)(U,{id:"max_estimasi_waktu_jam",name:"max_estimasi_waktu_jam",value:d.max_estimasi_waktu_jam,onChange:G,inputType:d.inputType})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"max_ketinggian_mdpl",children:[(0,p.jsx)("span",{children:"Ketinggian Maksimal"}),(0,p.jsx)("span",{className:"preference-value",children:(la=d.max_ketinggian_mdpl,la<=1500?"Bukit/Pegunungan Rendah":la<=2500?"Gunung Sedang":la<=3500?"Gunung Tinggi":la<=4500?"Gunung Sangat Tinggi":"Puncak Ekstrem")})]}),(0,p.jsx)("input",{type:"number",id:"max_ketinggian_mdpl",name:"max_ketinggian_mdpl",className:"number-input",value:d.max_ketinggian_mdpl,onChange:G,min:"0",max:"6000"})]})]})]}),(0,p.jsxs)("div",{className:"filter-section",children:[(0,p.jsx)("h4",{className:"section-title",children:"Fasilitas & Kenyamanan"}),(0,p.jsxs)("div",{className:"form-grid",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_kualitas_fasilitas_skala",children:[(0,p.jsx)("span",{children:"Kualitas Fasilitas Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:N(d.min_kualitas_fasilitas_skala)})]}),(0,p.jsx)(O,{id:"min_kualitas_fasilitas_skala",name:"min_kualitas_fasilitas_skala",value:d.min_kualitas_fasilitas_skala,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:N,rangeLabels:{min:"Minim",max:"Lengkap"}})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_kualitas_kemah_skala",children:[(0,p.jsx)("span",{children:"Kualitas Area Kemah Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:S(d.min_kualitas_kemah_skala)})]}),(0,p.jsx)(O,{id:"min_kualitas_kemah_skala",name:"min_kualitas_kemah_skala",value:d.min_kualitas_kemah_skala,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:S,rangeLabels:{min:"Terbatas",max:"Sangat Baik"}})]})]})]}),(0,p.jsxs)("div",{className:"filter-section",children:[(0,p.jsx)("h4",{className:"section-title",children:"Pemandangan & Lingkungan"}),(0,p.jsxs)("div",{className:"form-grid",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_keindahan_pemandangan_skala",children:[(0,p.jsx)("span",{children:"Keindahan Pemandangan Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:w(d.min_keindahan_pemandangan_skala)})]}),(0,p.jsx)(O,{id:"min_keindahan_pemandangan_skala",name:"min_keindahan_pemandangan_skala",value:d.min_keindahan_pemandangan_skala,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:w,rangeLabels:{min:"Biasa",max:"Istimewa"}})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_ketersediaan_air",children:[(0,p.jsx)("span",{children:"Ketersediaan Air Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:C(d.min_ketersediaan_air)})]}),(0,p.jsx)(O,{id:"min_ketersediaan_air",name:"min_ketersediaan_air",value:d.min_ketersediaan_air,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:C,rangeLabels:{min:"Langka",max:"Melimpah"}})]})]})]}),(0,p.jsxs)("div",{className:"filter-section",children:[(0,p.jsx)("h4",{className:"section-title",children:"Lanskap & Perlindungan"}),(0,p.jsxs)("div",{className:"form-grid",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_variasi_lanskap",children:[(0,p.jsx)("span",{children:"Variasi Lanskap Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:T(d.min_variasi_lanskap)})]}),(0,p.jsx)(O,{id:"min_variasi_lanskap",name:"min_variasi_lanskap",value:d.min_variasi_lanskap,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:T,rangeLabels:{min:"Monoton",max:"Sangat Bervariasi"}})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_perlindungan_angin",children:[(0,p.jsx)("span",{children:"Perlindungan Angin Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:A(d.min_perlindungan_angin)})]}),(0,p.jsx)(O,{id:"min_perlindungan_angin",name:"min_perlindungan_angin",value:d.min_perlindungan_angin,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:A,rangeLabels:{min:"Terekspos",max:"Sangat Terlindungi"}})]})]})]}),(0,p.jsxs)("div",{className:"filter-section",children:[(0,p.jsx)("h4",{className:"section-title",children:"Komunikasi & Keamanan Insiden"}),(0,p.jsxs)("div",{className:"form-grid",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_jaringan_komunikasi",children:[(0,p.jsx)("span",{children:"Sinyal Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:M(d.min_jaringan_komunikasi)})]}),(0,p.jsx)(O,{id:"min_jaringan_komunikasi",name:"min_jaringan_komunikasi",value:d.min_jaringan_komunikasi,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:M,rangeLabels:{min:"Tidak Ada Sinyal",max:"Sinyal Sangat Baik"}})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"min_tingkat_keamanan_insiden",children:[(0,p.jsx)("span",{children:"Insiden Minimal"}),(0,p.jsx)("span",{className:"preference-value",children:L(d.min_tingkat_keamanan_insiden)})]}),(0,p.jsx)(O,{id:"min_tingkat_keamanan_insiden",name:"min_tingkat_keamanan_insiden",value:d.min_tingkat_keamanan_insiden,onChange:G,min:1,max:10,inputType:d.inputType,getDescription:L,rangeLabels:{min:"Sering",max:"Sangat Aman"}})]})]})]}),(0,p.jsxs)("div",{className:"form-actions",children:[(0,p.jsx)("button",{type:"button",className:"action-button secondary",onClick:ta,disabled:k,children:"Lihat Semua"}),(0,p.jsx)("button",{type:"button",className:"action-button tertiary",onClick:sa,disabled:k,children:"Reset"}),(0,p.jsx)("button",{type:"submit",className:"action-button primary",disabled:k,children:k?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Y,{})," Menganalisis..."]}):"Dapatkan Rekomendasi"})]})]}),(0,p.jsxs)("section",{className:"results-section",ref:F,children:[h&&(0,p.jsxs)("header",{className:"results-header",children:[(0,p.jsx)("h2",{children:"Hasil Rekomendasi"}),(0,p.jsx)(ea,{results:o,searchMode:s})]}),h&&o.length>0&&o[0].metadata&&(0,p.jsx)("div",{className:"engine-info",children:(0,p.jsxs)("div",{className:"engine-stats",children:[(0,p.jsxs)("span",{className:"stat-item",children:["\ud83d\udcca Engine:"," ",(null===(a=o[0].metadata.engine_info)||void 0===a?void 0:a.versi)||"v5.0"]}),(0,p.jsxs)("span",{className:"stat-item",children:["\ud83c\udfaf ",(null===(e=o[0].metadata.engine_info)||void 0===e?void 0:e.total_variabel)||13," ","variabel input"]}),o[0].metadata.statistik_skor&&(0,p.jsxs)("span",{className:"stat-item",children:["\u2b50 Skor tertinggi:"," ",null===(n=o[0].metadata.statistik_skor.tertinggi)||void 0===n?void 0:n.toFixed(1)]})]})}),(0,p.jsxs)("div",{className:"results-grid",children:[k&&(0,p.jsxs)("div",{className:"explore-page-status",children:[(0,p.jsx)(Y,{})," Memuat data..."]}),_&&(0,p.jsx)($,{error:_,context:"rekomendasi ".concat(s),onRetry:()=>{b(null),g(!1)}}),!k&&h&&!_&&(o.length>0?o.map((a,e)=>"jalur"===s?(0,p.jsx)(E,{trail:a,index:e},a.id_jalur||e):(0,p.jsx)(B,{mountain:a,index:e},a.id_gunung||e)):(0,p.jsxs)("div",{className:"no-results-message",children:[(0,p.jsx)(Z,{}),(0,p.jsx)("h4",{children:"Tidak ada hasil yang cocok"}),(0,p.jsx)("p",{children:"Coba ubah preferensi Anda atau lihat semua data yang tersedia."})]})),!h&&!k&&!_&&(0,p.jsxs)("div",{className:"no-results-message",children:[(0,p.jsx)("h4",{children:"Hasil akan muncul di sini"}),(0,p.jsx)("p",{children:'Atur preferensi untuk mendapat rekomendasi, atau klik "Lihat Semua" untuk menjelajah.'})]})]})]}),h&&o.length>0&&(0,p.jsxs)("div",{className:"share-results-section",children:[(0,p.jsx)("h4",{className:"share-title",children:"Bagikan Rekomendasi"}),(0,p.jsx)(ea,{results:o,searchMode:s})]})]}),"virtual"===s&&!l&&(0,p.jsx)(z,{onStartChat:()=>c(!0)}),"virtual"===s&&l&&(0,p.jsx)("div",{className:"chatbot-overlay",onClick:()=>c(!1),children:(0,p.jsx)("div",{className:"chatbot-container",onClick:a=>a.stopPropagation(),children:(0,p.jsx)(W,{onClose:()=>c(!1)})})})]});var la}}}]);
//# sourceMappingURL=682.958edd7d.chunk.js.map