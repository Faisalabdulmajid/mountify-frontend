{"version":3,"file":"static/js/682.958edd7d.chunk.js","mappings":"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","sources":["../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","pages/public/Explore/Explore.js"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// src/pages/public/Explore/Explore.js\r\n\r\n/*\r\n============================================\r\nMOUNTIFY - HALAMAN EXPLORE\r\nCara Penggunaan & Info Kriteria Rekomendasi\r\n============================================\r\n\r\nFitur Utama:\r\n- Temukan rekomendasi gunung atau jalur pendakian berdasarkan preferensi Anda.\r\n- Tersedia mode input slider (kontrol) dan dropdown (pilihan deskriptif).\r\n- Fitur pencarian cepat (quick search) dan asisten virtual (chatbot).\r\n\r\nCara Penggunaan:\r\n1. Pilih mode pencarian: \"jalur\" (jalur pendakian) atau \"gunung\" (rekomendasi gunung terbaik).\r\n2. Atur preferensi menggunakan slider atau dropdown (klik \"Mode Input\").\r\n   - Slider: geser untuk memilih nilai numerik.\r\n   - Dropdown: pilih deskripsi kualitas/kriteria.\r\n3. Isi filter sesuai kebutuhan, misal: tingkat kesulitan maksimal, keamanan minimal, estimasi waktu, ketinggian, kualitas fasilitas, air, variasi lanskap, perlindungan angin, jaringan komunikasi, tingkat insiden, dsb.\r\n4. Klik \"Cari Rekomendasi\" untuk menampilkan hasil.\r\n5. Gunakan pencarian cepat (quick search) untuk mencari nama gunung/jalur secara langsung.\r\n6. Untuk bantuan interaktif, klik ikon chatbot dan ajukan pertanyaan secara natural.\r\n\r\nInfo Kriteria & Skala Filter:\r\n- max_kesulitan_skala: 1 (sangat mudah) s/d 10 (ekstrem)\r\n- min_keamanan_skala: 1 (sangat berisiko) s/d 10 (maksimal aman)\r\n- max_estimasi_waktu_jam: estimasi waktu tempuh (jam)\r\n- max_ketinggian_mdpl: ketinggian puncak (meter)\r\n- min_kualitas_fasilitas_skala: 1 (sangat minim) s/d 10 (mewah)\r\n- min_kualitas_kemah_skala: 1 (sangat terbatas) s/d 10 (eksklusif)\r\n- min_keindahan_pemandangan_skala: 1 (kurang menarik) s/d 10 (luar biasa)\r\n- min_ketersediaan_air: 1 (sangat langka) s/d 10 (berlimpah ruah)\r\n- min_variasi_lanskap: 1 (sangat monoton) s/d 10 (luar biasa beragam)\r\n- min_perlindungan_angin: 1 (sangat terekspos) s/d 10 (ideal terlindungi)\r\n- min_jaringan_komunikasi: 1 (tidak ada sinyal) s/d 10 (sinyal optimal)\r\n- min_tingkat_keamanan_insiden: 1 (insiden sangat sering) s/d 10 (maksimal aman)\r\n\r\nSemakin tinggi nilai minimum pada filter, semakin ketat hasil rekomendasi.\r\nSetiap kriteria dapat diatur sesuai kebutuhan pendaki (pemula, menengah, ahli).\r\n\r\nUntuk info detail skala, lihat tooltip atau label pada masing-masing filter di UI.\r\n*/\r\n\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport \"./Explore_Simple.css\";\r\n\r\n// --- Constants ---\r\nconst API_BASE_URL = \"http://localhost:5000/api\";\r\nconst DEFAULT_FALLBACK_IMAGE =\r\n  \"https://placehold.co/600x400/27ae60/FFFFFF?text=Mountify\";\r\n\r\nconst INITIAL_PREFERENCES = {\r\n  id_gunung: \"\",\r\n  max_kesulitan_skala: 7,\r\n  min_keamanan_skala: 6,\r\n  max_estimasi_waktu_jam: 48,\r\n  max_ketinggian_mdpl: 5000,\r\n  min_kualitas_fasilitas_skala: 5,\r\n  min_kualitas_kemah_skala: 5,\r\n  min_keindahan_pemandangan_skala: 6,\r\n  min_ketersediaan_air: 5,\r\n  min_variasi_lanskap: 5,\r\n  min_perlindungan_angin: 5,\r\n  min_jaringan_komunikasi: 3,\r\n  min_tingkat_keamanan_insiden: 5,\r\n  ketinggian: \"semua\",\r\n  lokasi: \"semua\",\r\n  inputType: \"slider\", // \"slider\" atau \"dropdown\"\r\n  // Simple search feature\r\n  quickSearch: \"\",\r\n};\r\n\r\nconst INITIAL_CHATBOT_MESSAGE = {\r\n  id: uuidv4(),\r\n  text: \"Halo! Saya Asisten Virtual Mountify. Ada yang bisa saya bantu? Coba ketik 'cari rekomendasi gunung'.\",\r\n  sender: \"bot\",\r\n  timestamp: new Date().toLocaleTimeString([], {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  }),\r\n};\r\n\r\n// --- Utility Functions ---\r\nconst createImageSrc = (thumbnail) =>\r\n  thumbnail\r\n    ? `${API_BASE_URL.replace(\"/api\", \"\")}${thumbnail}`\r\n    : DEFAULT_FALLBACK_IMAGE;\r\n\r\nconst formatTimestamp = () =>\r\n  new Date().toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n\r\nconst createMessage = (text, sender, payload = null) => ({\r\n  id: uuidv4(),\r\n  text,\r\n  sender,\r\n  payload,\r\n  timestamp: formatTimestamp(),\r\n});\r\n\r\nconst scrollToElement = (ref, delay = 100) => {\r\n  setTimeout(() => ref.current?.scrollIntoView({ behavior: \"smooth\" }), delay);\r\n};\r\n\r\n// Scale description utilities based on National & International Standards\r\n\r\n// Difficulty scaling based on Indonesian Grade 1-5 & YDS standards\r\nconst getDifficultyDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Sangat Mudah (1)\";\r\n    case 2:\r\n      return \"Sangat Mudah+ (2)\";\r\n    case 3:\r\n      return \"Mudah (3)\";\r\n    case 4:\r\n      return \"Mudah+ (4)\";\r\n    case 5:\r\n      return \"Sedang (5)\";\r\n    case 6:\r\n      return \"Sedang+ (6)\";\r\n    case 7:\r\n      return \"Sulit (7)\";\r\n    case 8:\r\n      return \"Sulit+ (8)\";\r\n    case 9:\r\n      return \"Sangat Sulit (9)\";\r\n    case 10:\r\n      return \"Ekstrem (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Safety scaling based on BASARNAS incident data standards\r\nconst getSafetyDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Sangat Berisiko (1)\";\r\n    case 2:\r\n      return \"Berisiko Tinggi (2)\";\r\n    case 3:\r\n      return \"Berisiko Sedang (3)\";\r\n    case 4:\r\n      return \"Berisiko Rendah (4)\";\r\n    case 5:\r\n      return \"Cukup Aman (5)\";\r\n    case 6:\r\n      return \"Aman (6)\";\r\n    case 7:\r\n      return \"Aman+ (7)\";\r\n    case 8:\r\n      return \"Sangat Aman (8)\";\r\n    case 9:\r\n      return \"Sangat Aman+ (9)\";\r\n    case 10:\r\n      return \"Maksimal Aman (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Facility quality based on Indonesian mountain basecamp standards\r\nconst getFacilityDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Sangat Minim (1)\";\r\n    case 2:\r\n      return \"Minim (2)\";\r\n    case 3:\r\n      return \"Terbatas (3)\";\r\n    case 4:\r\n      return \"Cukup (4)\";\r\n    case 5:\r\n      return \"Standar (5)\";\r\n    case 6:\r\n      return \"Baik (6)\";\r\n    case 7:\r\n      return \"Lengkap (7)\";\r\n    case 8:\r\n      return \"Sangat Lengkap (8)\";\r\n    case 9:\r\n      return \"Premium (9)\";\r\n    case 10:\r\n      return \"Mewah (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Camp quality based on Indonesian camping area standards\r\nconst getCampQualityDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Sangat Terbatas (1)\";\r\n    case 2:\r\n      return \"Terbatas (2)\";\r\n    case 3:\r\n      return \"Kurang Nyaman (3)\";\r\n    case 4:\r\n      return \"Cukup Nyaman (4)\";\r\n    case 5:\r\n      return \"Nyaman (5)\";\r\n    case 6:\r\n      return \"Baik (6)\";\r\n    case 7:\r\n      return \"Sangat Baik (7)\";\r\n    case 8:\r\n      return \"Istimewa (8)\";\r\n    case 9:\r\n      return \"Premium (9)\";\r\n    case 10:\r\n      return \"Ekslusif (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Scenery quality based on visual assessment standards\r\nconst getSceneryDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Kurang Menarik (1)\";\r\n    case 2:\r\n      return \"Biasa Saja (2)\";\r\n    case 3:\r\n      return \"Cukup Menarik (3)\";\r\n    case 4:\r\n      return \"Menarik (4)\";\r\n    case 5:\r\n      return \"Indah (5)\";\r\n    case 6:\r\n      return \"Sangat Indah (6)\";\r\n    case 7:\r\n      return \"Menakjubkan (7)\";\r\n    case 8:\r\n      return \"Spektakuler (8)\";\r\n    case 9:\r\n      return \"Istimewa (9)\";\r\n    case 10:\r\n      return \"Luar Biasa (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Water availability based on logistic management standards\r\nconst getWaterAvailabilityDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Sangat Langka (1)\";\r\n    case 2:\r\n      return \"Langka (2)\";\r\n    case 3:\r\n      return \"Terbatas (3)\";\r\n    case 4:\r\n      return \"Kurang (4)\";\r\n    case 5:\r\n      return \"Cukup (5)\";\r\n    case 6:\r\n      return \"Tersedia (6)\";\r\n    case 7:\r\n      return \"Banyak (7)\";\r\n    case 8:\r\n      return \"Melimpah (8)\";\r\n    case 9:\r\n      return \"Sangat Melimpah (9)\";\r\n    case 10:\r\n      return \"Berlimpah Ruah (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Landscape variation based on ecosystem diversity\r\nconst getLandscapeVariationDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Sangat Monoton (1)\";\r\n    case 2:\r\n      return \"Monoton (2)\";\r\n    case 3:\r\n      return \"Kurang Bervariasi (3)\";\r\n    case 4:\r\n      return \"Cukup Bervariasi (4)\";\r\n    case 5:\r\n      return \"Bervariasi (5)\";\r\n    case 6:\r\n      return \"Sangat Bervariasi (6)\";\r\n    case 7:\r\n      return \"Beragam (7)\";\r\n    case 8:\r\n      return \"Sangat Beragam (8)\";\r\n    case 9:\r\n      return \"Spektakuler (9)\";\r\n    case 10:\r\n      return \"Luar Biasa Beragam (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Wind protection based on camping comfort standards\r\nconst getWindProtectionDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Sangat Terekspos (1)\";\r\n    case 2:\r\n      return \"Terekspos (2)\";\r\n    case 3:\r\n      return \"Kurang Terlindungi (3)\";\r\n    case 4:\r\n      return \"Cukup Terlindungi (4)\";\r\n    case 5:\r\n      return \"Terlindungi (5)\";\r\n    case 6:\r\n      return \"Baik Terlindungi (6)\";\r\n    case 7:\r\n      return \"Sangat Terlindungi (7)\";\r\n    case 8:\r\n      return \"Maksimal Terlindungi (8)\";\r\n    case 9:\r\n      return \"Sempurna Terlindungi (9)\";\r\n    case 10:\r\n      return \"Ideal Terlindungi (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Communication network based on cellular coverage\r\nconst getCommunicationDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Tidak Ada Sinyal (1)\";\r\n    case 2:\r\n      return \"Sinyal Sangat Lemah (2)\";\r\n    case 3:\r\n      return \"Sinyal Lemah (3)\";\r\n    case 4:\r\n      return \"Sinyal Terbatas (4)\";\r\n    case 5:\r\n      return \"Sinyal Cukup (5)\";\r\n    case 6:\r\n      return \"Sinyal Baik (6)\";\r\n    case 7:\r\n      return \"Sinyal Sangat Baik (7)\";\r\n    case 8:\r\n      return \"Sinyal Kuat (8)\";\r\n    case 9:\r\n      return \"Sinyal Sangat Kuat (9)\";\r\n    case 10:\r\n      return \"Sinyal Optimal (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Incident safety level (higher score = safer/fewer incidents)\r\nconst getIncidentSafetyDescription = (v) => {\r\n  switch (v) {\r\n    case 1:\r\n      return \"Insiden Sangat Sering (1)\";\r\n    case 2:\r\n      return \"Insiden Sering (2)\";\r\n    case 3:\r\n      return \"Insiden Cukup Sering (3)\";\r\n    case 4:\r\n      return \"Insiden Kadang (4)\";\r\n    case 5:\r\n      return \"Insiden Sedang (5)\";\r\n    case 6:\r\n      return \"Insiden Jarang (6)\";\r\n    case 7:\r\n      return \"Insiden Sangat Jarang (7)\";\r\n    case 8:\r\n      return \"Sangat Aman (8)\";\r\n    case 9:\r\n      return \"Amat Sangat Aman (9)\";\r\n    case 10:\r\n      return \"Maksimal Aman (10)\";\r\n    default:\r\n      return `Level ${v}`;\r\n  }\r\n};\r\n\r\n// Altitude description for max_ketinggian_mdpl\r\nconst getAltitudeDescription = (v) => {\r\n  if (v <= 1500) return \"Bukit/Pegunungan Rendah\";\r\n  if (v <= 2500) return \"Gunung Sedang\";\r\n  if (v <= 3500) return \"Gunung Tinggi\";\r\n  if (v <= 4500) return \"Gunung Sangat Tinggi\";\r\n  return \"Puncak Ekstrem\";\r\n};\r\n\r\nconst getDifficultyClass = (difficulty) => {\r\n  if (!difficulty) return \"difficulty-default\";\r\n  if (difficulty <= 4) return \"difficulty-pemula\";\r\n  if (difficulty <= 7) return \"difficulty-menengah\";\r\n  return \"difficulty-ahli\";\r\n};\r\n\r\nconst getDifficultyText = (difficulty) => {\r\n  if (!difficulty) return \"N/A\";\r\n  if (difficulty <= 4) return \"Pemula\";\r\n  if (difficulty <= 7) return \"Menengah\";\r\n  return \"Ahli\";\r\n};\r\n\r\n// --- Card Components ---\r\nconst CardImage = ({ src, alt, onError }) => (\r\n  <img src={src} alt={alt} className=\"card-image\" onError={onError} />\r\n);\r\n\r\nconst DifficultyBadge = ({ difficulty }) => {\r\n  if (!difficulty) return null;\r\n\r\n  return (\r\n    <span className={`difficulty-badge ${getDifficultyClass(difficulty)}`}>\r\n      {getDifficultyText(difficulty)}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst ScoreBadge = ({ score, category, label = \"Skor\" }) => {\r\n  if (!score) return null;\r\n\r\n  const getScoreClass = (score) => {\r\n    if (score >= 80) return \"score-excellent\";\r\n    if (score >= 65) return \"score-good\";\r\n    if (score >= 50) return \"score-fair\";\r\n    if (score >= 35) return \"score-poor\";\r\n    return \"score-bad\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"score-badge-container\">\r\n      <span className={`score-badge ${getScoreClass(score)}`}>\r\n        {label}: {score.toFixed(1)}\r\n      </span>\r\n      {category && (\r\n        <span className={`category-badge ${getScoreClass(score)}`}>\r\n          {category}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction TrailCard({ trail, index }) {\r\n  const handleImageError = (e) => {\r\n    e.target.onerror = null;\r\n    e.target.src = \"https://placehold.co/600x400/2c3e50/FFFFFF?text=Error\";\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"result-card animate-in\"\r\n      style={{ animationDelay: `${index * 100}ms` }}\r\n    >\r\n      <CardImage\r\n        src={createImageSrc(trail.url_thumbnail)}\r\n        alt={trail.nama_jalur}\r\n        onError={handleImageError}\r\n      />\r\n      <div className=\"card-content\">\r\n        <div className=\"badge-container\">\r\n          <DifficultyBadge difficulty={trail.kesulitan_skala} />\r\n          <ScoreBadge\r\n            score={trail.skor_rekomendasi}\r\n            category={trail.kategori_rekomendasi}\r\n          />\r\n        </div>\r\n\r\n        <h3 className=\"card-title\">{trail.nama_jalur}</h3>\r\n        <p className=\"card-subtitle\">{trail.nama_gunung}</p>\r\n\r\n        {trail.ketinggian_puncak_mdpl && (\r\n          <p className=\"card-info\">\r\n            {trail.ketinggian_puncak_mdpl.toLocaleString()} mdpl\r\n          </p>\r\n        )}\r\n\r\n        {trail.estimasi_waktu_jam && (\r\n          <p className=\"card-info\"> {trail.estimasi_waktu_jam} jam</p>\r\n        )}\r\n\r\n        {trail.keamanan_skala && (\r\n          <p className=\"card-info\">\r\n             Keamanan: {getSafetyDescription(trail.keamanan_skala)}\r\n          </p>\r\n        )}\r\n\r\n        <Link to={`/jalur/${trail.id_jalur}`} className=\"details-button\">\r\n          Lihat Detail\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MountainCard({ mountain, index }) {\r\n  const handleImageError = (e) => {\r\n    e.target.onerror = null;\r\n    e.target.src = \"https://placehold.co/600x400/2c3e50/FFFFFF?text=Error\";\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"result-card animate-in\"\r\n      style={{ animationDelay: `${index * 100}ms` }}\r\n    >\r\n      <CardImage\r\n        src={createImageSrc(mountain.url_thumbnail)}\r\n        alt={mountain.nama_gunung}\r\n        onError={handleImageError}\r\n      />\r\n      <div className=\"card-content\">\r\n        <div className=\"badge-container\">\r\n          <ScoreBadge\r\n            score={mountain.skor_tertinggi}\r\n            category={mountain.kategori_rekomendasi}\r\n            label=\"Skor Terbaik\"\r\n          />\r\n        </div>\r\n\r\n        <h3 className=\"card-title\">{mountain.nama_gunung}</h3>\r\n        <p className=\"card-subtitle\">{mountain.lokasi_administratif}</p>\r\n\r\n        {mountain.jalur_terbaik && (\r\n          <p className=\"card-info\">\r\n             Jalur Terbaik: {mountain.jalur_terbaik}\r\n          </p>\r\n        )}\r\n\r\n        {typeof mountain.jumlah_jalur !== \"undefined\" && (\r\n          <p className=\"card-info\"> {mountain.jumlah_jalur} jalur tersedia</p>\r\n        )}\r\n\r\n        {mountain.ketinggian && (\r\n          <p className=\"card-info\">\r\n             {mountain.ketinggian.toLocaleString()} mdpl\r\n          </p>\r\n        )}\r\n\r\n        <Link to={`/gunung/${mountain.id_gunung}`} className=\"details-button\">\r\n          Lihat Detail\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Chatbot Components ---\r\nconst ChatbotMessage = ({ message, botAvatar, userAvatar, isBot }) => (\r\n  <div className={`message-row ${message.sender}`}>\r\n    {isBot && (\r\n      <img src={botAvatar} alt=\"bot avatar\" className=\"message-avatar\" />\r\n    )}\r\n    <div className=\"message-content\">\r\n      {message.text && (\r\n        <p className={`message-bubble ${message.sender}`}>{message.text}</p>\r\n      )}\r\n      {message.payload && (\r\n        <div className=\"rich-response-grid\">\r\n          {message.payload.map((item, index) => (\r\n            <TrailCard\r\n              key={item.id_jalur || index}\r\n              trail={item}\r\n              index={index}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n      <div className={`message-timestamp-container ${message.sender}`}>\r\n        <span className=\"message-timestamp\">{message.timestamp}</span>\r\n      </div>\r\n    </div>\r\n    {!isBot && (\r\n      <img src={userAvatar} alt=\"user avatar\" className=\"message-avatar\" />\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst TypingIndicator = ({ botAvatar }) => (\r\n  <div className=\"message-row bot\">\r\n    <img src={botAvatar} alt=\"bot avatar\" className=\"message-avatar\" />\r\n    <div className=\"message-bubble\">\r\n      <div className=\"typing-indicator\">\r\n        <span />\r\n        <span />\r\n        <span />\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst ChatbotHeader = ({ onClose }) => (\r\n  <div className=\"chatbot-header\">\r\n    Asisten Virtual Mountify\r\n    <button className=\"chatbot-close-button\" onClick={onClose}>\r\n      &times;\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst ChatbotInput = ({ inputValue, setInputValue, onSubmit }) => (\r\n  <form className=\"chatbot-input-form\" onSubmit={onSubmit}>\r\n    <input\r\n      type=\"text\"\r\n      value={inputValue}\r\n      onChange={(e) => setInputValue(e.target.value)}\r\n      placeholder=\"Ketik pesan Anda...\"\r\n    />\r\n    <button type=\"submit\">Kirim</button>\r\n  </form>\r\n);\r\n\r\n// Generate unique dropdown options for scale inputs\r\nconst generateUniqueScaleOptions = (min = 1, max = 10, getDescription) => {\r\n  const uniqueOptions = new Map();\r\n\r\n  // Collect all unique descriptions with their representative values\r\n  for (let i = min; i <= max; i++) {\r\n    const description = getDescription(i);\r\n    // Always use the exact value as key to ensure uniqueness\r\n    const key = `${description}_${i}`;\r\n    if (!uniqueOptions.has(key)) {\r\n      uniqueOptions.set(key, {\r\n        value: i,\r\n        label: description,\r\n        originalValue: i,\r\n      });\r\n    }\r\n  }\r\n\r\n  // Convert to array format, sorted by original value\r\n  return Array.from(uniqueOptions.values())\r\n    .sort((a, b) => a.originalValue - b.originalValue)\r\n    .map((item) => ({\r\n      value: item.value,\r\n      label: item.label,\r\n    }));\r\n};\r\n\r\n// Generate time duration options\r\nconst generateTimeOptions = () => {\r\n  const options = [\r\n    { value: 6, label: \"6 jam\" },\r\n    { value: 12, label: \"12 jam\" },\r\n    { value: 18, label: \"18 jam\" },\r\n    { value: 24, label: \"1 hari\" },\r\n    { value: 36, label: \"1.5 hari\" },\r\n    { value: 48, label: \"2 hari\" },\r\n    { value: 72, label: \"3 hari\" },\r\n    { value: 96, label: \"4 hari\" },\r\n    { value: 120, label: \"5 hari\" },\r\n    { value: 144, label: \"6 hari\" },\r\n    { value: 168, label: \"1 minggu\" },\r\n  ];\r\n  return options;\r\n};\r\n\r\n// Scale Input Component - renders either slider or dropdown\r\nconst ScaleInput = ({\r\n  id,\r\n  name,\r\n  value,\r\n  onChange,\r\n  min = 1,\r\n  max = 10,\r\n  inputType,\r\n  getDescription,\r\n  rangeLabels = { min: \"Rendah\", max: \"Tinggi\" },\r\n}) => {\r\n  if (inputType === \"dropdown\") {\r\n    const options = generateUniqueScaleOptions(min, max, getDescription);\r\n    return (\r\n      <select\r\n        id={id}\r\n        name={name}\r\n        className=\"scale-dropdown\"\r\n        value={value}\r\n        onChange={onChange}\r\n      >\r\n        {options.map((option) => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    );\r\n  }\r\n\r\n  // Default to slider\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"range\"\r\n        id={id}\r\n        name={name}\r\n        className=\"range-input\"\r\n        value={value}\r\n        onChange={onChange}\r\n        min={min}\r\n        max={max}\r\n        step=\"1\"\r\n      />\r\n      <div className=\"range-labels\">\r\n        <span>{rangeLabels.min}</span>\r\n        <span>{rangeLabels.max}</span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\n// Time Input Component - renders either number input or dropdown\r\nconst TimeInput = ({ id, name, value, onChange, inputType }) => {\r\n  if (inputType === \"dropdown\") {\r\n    const options = generateTimeOptions();\r\n    return (\r\n      <select\r\n        id={id}\r\n        name={name}\r\n        className=\"time-dropdown\"\r\n        value={value}\r\n        onChange={onChange}\r\n      >\r\n        {options.map((option) => (\r\n          <option key={option.value} value={option.value}>\r\n            {option.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    );\r\n  }\r\n\r\n  // Default to number input\r\n  return (\r\n    <div className=\"time-input-container\">\r\n      <input\r\n        type=\"number\"\r\n        id={id}\r\n        name={name}\r\n        className=\"number-input\"\r\n        value={value}\r\n        onChange={onChange}\r\n        min=\"1\"\r\n        max=\"168\"\r\n      />\r\n      <span className=\"unit\">Jam</span>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Input Type Switcher Component\r\nconst InputTypeSwitcher = ({ inputType, onInputTypeChange }) => (\r\n  <div className=\"input-type-switcher\">\r\n    <span className=\"switcher-label\">Mode Input:</span>\r\n    <div className=\"switcher-buttons\">\r\n      <button\r\n        type=\"button\"\r\n        className={`switcher-button ${inputType === \"slider\" ? \"active\" : \"\"}`}\r\n        onClick={() => onInputTypeChange(\"slider\")}\r\n      >\r\n        Kontrol\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        className={`switcher-button ${\r\n          inputType === \"dropdown\" ? \"active\" : \"\"\r\n        }`}\r\n        onClick={() => onInputTypeChange(\"dropdown\")}\r\n      >\r\n        Pilihan\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// --- API Functions ---\r\nconst fetchMountainsList = async () => {\r\n  try {\r\n    console.log(\" Fetching mountains list from:\", `${API_BASE_URL}/gunung`);\r\n\r\n    const response = await fetch(`${API_BASE_URL}/gunung`);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\r\n        `HTTP Error ${response.status}: Gagal memuat daftar gunung`\r\n      );\r\n    }\r\n\r\n    const contentType = response.headers.get(\"content-type\");\r\n    if (!contentType || !contentType.includes(\"application/json\")) {\r\n      throw new Error(\r\n        \"Server mengembalikan response bukan JSON untuk daftar gunung\"\r\n      );\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log(\" Mountains list received:\", data.length, \"items\");\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\" fetchMountainsList error:\", error);\r\n    if (error.message.includes(\"fetch\")) {\r\n      throw new Error(\r\n        \"Tidak dapat terhubung ke server untuk memuat daftar gunung\"\r\n      );\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst fetchRecommendations = async (preferences, searchMode) => {\r\n  const endpoint =\r\n    searchMode === \"jalur\"\r\n      ? `${API_BASE_URL}/rekomendasi/jalur`\r\n      : `${API_BASE_URL}/rekomendasi/gunung`;\r\n\r\n  // Map frontend preferences to backend parameters\r\n  const backendPreferences = {\r\n    max_kesulitan_skala: preferences.max_kesulitan_skala,\r\n    min_keamanan_skala: preferences.min_keamanan_skala,\r\n    max_estimasi_waktu_jam: preferences.max_estimasi_waktu_jam,\r\n    max_ketinggian_mdpl: preferences.max_ketinggian_mdpl,\r\n    min_keindahan_pemandangan_skala:\r\n      preferences.min_keindahan_pemandangan_skala,\r\n    min_ketersediaan_air: preferences.min_ketersediaan_air,\r\n    min_kualitas_fasilitas_skala: preferences.min_kualitas_fasilitas_skala,\r\n    min_kualitas_kemah_skala: preferences.min_kualitas_kemah_skala,\r\n    min_variasi_lanskap: preferences.min_variasi_lanskap,\r\n    min_perlindungan_angin: preferences.min_perlindungan_angin,\r\n    min_jaringan_komunikasi: preferences.min_jaringan_komunikasi,\r\n    min_tingkat_keamanan_insiden: preferences.min_tingkat_keamanan_insiden,\r\n    id_gunung: preferences.id_gunung || undefined,\r\n    search_term: preferences.quickSearch || undefined,\r\n  };\r\n\r\n  // Remove undefined values\r\n  Object.keys(backendPreferences).forEach((key) => {\r\n    if (\r\n      backendPreferences[key] === undefined ||\r\n      backendPreferences[key] === \"\"\r\n    ) {\r\n      delete backendPreferences[key];\r\n    }\r\n  });\r\n\r\n  try {\r\n    console.log(\" Fetching recommendations from:\", endpoint);\r\n    console.log(\" Request data:\", backendPreferences);\r\n\r\n    const response = await fetch(endpoint, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n      },\r\n      body: JSON.stringify(backendPreferences),\r\n    });\r\n\r\n    console.log(\" Response status:\", response.status);\r\n    console.log(\" Response URL:\", response.url);\r\n\r\n    // Check if response is HTML (error page)\r\n    const contentType = response.headers.get(\"content-type\");\r\n    console.log(\" Content-Type:\", contentType);\r\n\r\n    if (!response.ok) {\r\n      // Try to get error message from response\r\n      let errorMessage = `HTTP Error ${response.status}`;\r\n\r\n      try {\r\n        if (contentType && contentType.includes(\"application/json\")) {\r\n          const errorData = await response.json();\r\n          errorMessage = errorData.message || errorMessage;\r\n        } else {\r\n          const errorText = await response.text();\r\n          console.error(\" HTML Error Response:\", errorText.substring(0, 200));\r\n\r\n          // Check if it's a 404 or server error\r\n          if (response.status === 404) {\r\n            errorMessage = `Endpoint tidak ditemukan: ${endpoint}. Pastikan backend sudah berjalan.`;\r\n          } else if (response.status >= 500) {\r\n            errorMessage = `Server error (${response.status}). Cek console backend untuk detail.`;\r\n          } else {\r\n            errorMessage = `Request gagal (${response.status}). Response bukan JSON.`;\r\n          }\r\n        }\r\n      } catch (parseError) {\r\n        console.error(\" Error parsing response:\", parseError);\r\n        errorMessage = `Request gagal (${response.status}). Cannot parse response.`;\r\n      }\r\n\r\n      throw new Error(errorMessage);\r\n    }\r\n\r\n    // Validate content type before parsing JSON\r\n    if (!contentType || !contentType.includes(\"application/json\")) {\r\n      const responseText = await response.text();\r\n      console.error(\r\n        \" Unexpected response type:\",\r\n        responseText.substring(0, 200)\r\n      );\r\n      throw new Error(\r\n        `Server mengembalikan HTML bukan JSON. Pastikan endpoint backend benar: ${endpoint}`\r\n      );\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log(\" Recommendations received:\", data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\" fetchRecommendations error:\", error);\r\n\r\n    // Provide specific error messages for common issues\r\n    if (error.message.includes(\"fetch\")) {\r\n      throw new Error(\r\n        \"Tidak dapat terhubung ke server. Pastikan backend sudah berjalan di http://localhost:5000\"\r\n      );\r\n    }\r\n\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst fetchAllData = async (searchMode) => {\r\n  const endpoint =\r\n    searchMode === \"jalur\" ? `${API_BASE_URL}/jalur` : `${API_BASE_URL}/gunung`;\r\n\r\n  try {\r\n    console.log(\" Fetching all data from:\", endpoint);\r\n\r\n    const response = await fetch(endpoint);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\r\n        `HTTP Error ${response.status}: Gagal memuat daftar ${searchMode}`\r\n      );\r\n    }\r\n\r\n    const contentType = response.headers.get(\"content-type\");\r\n    if (!contentType || !contentType.includes(\"application/json\")) {\r\n      throw new Error(\r\n        `Server mengembalikan response bukan JSON untuk daftar ${searchMode}`\r\n      );\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log(\r\n      ` All ${searchMode} data received:`,\r\n      Array.isArray(data) ? data.length : \"object\",\r\n      \"items\"\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\" fetchAllData error:\", error);\r\n    if (error.message.includes(\"fetch\")) {\r\n      throw new Error(\r\n        `Tidak dapat terhubung ke server untuk memuat daftar ${searchMode}`\r\n      );\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst sendChatMessage = async (inputValue, sessionId) => {\r\n  const response = await fetch(`${API_BASE_URL}/dialogflow-proxy`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ text: inputValue, sessionId }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Gagal berkomunikasi dengan asisten.\");\r\n  }\r\n\r\n  return response.json();\r\n};\r\n\r\nconst processChatbotResponse = (data) => {\r\n  return (data.fulfillmentMessages || [])\r\n    .map((msg) => {\r\n      if (msg.text && msg.text.text[0]) {\r\n        return createMessage(msg.text.text[0], \"bot\");\r\n      }\r\n\r\n      if (\r\n        msg.payload &&\r\n        msg.payload.fields?.type?.stringValue === \"recommendation_card\"\r\n      ) {\r\n        const recommendationData = msg.payload.fields.data.listValue.values.map(\r\n          (val) => {\r\n            const item = {};\r\n            Object.keys(val.structValue.fields).forEach((key) => {\r\n              const field = val.structValue.fields[key];\r\n              item[key] = field.stringValue || field.numberValue;\r\n            });\r\n            return item;\r\n          }\r\n        );\r\n\r\n        return createMessage(null, \"bot\", recommendationData);\r\n      }\r\n\r\n      return null;\r\n    })\r\n    .filter(Boolean);\r\n};\r\n\r\nconst Chatbot = ({ onClose }) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [sessionId] = useState(uuidv4());\r\n  const messagesEndRef = useRef(null);\r\n\r\n  const botAvatarUrl =\r\n    \"https://cdn-icons-png.flaticon.com/512/8649/8649595.png\";\r\n  const userAvatarUrl =\r\n    \"https://cdn-icons-png.flaticon.com/512/1144/1144760.png\";\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(scrollToBottom, [messages, isTyping]);\r\n\r\n  useEffect(() => {\r\n    setMessages([INITIAL_CHATBOT_MESSAGE]);\r\n  }, []);\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (inputValue.trim() === \"\") return;\r\n\r\n    const userMessage = createMessage(inputValue, \"user\");\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInputValue(\"\");\r\n    setIsTyping(true);\r\n\r\n    try {\r\n      const data = await sendChatMessage(inputValue, sessionId);\r\n      const botResponses = processChatbotResponse(data);\r\n      setMessages((prev) => [...prev, ...botResponses]);\r\n    } catch (error) {\r\n      const errorMessage = createMessage(\r\n        \"Maaf, terjadi gangguan. Coba beberapa saat lagi.\",\r\n        \"bot\"\r\n      );\r\n      setMessages((prev) => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatbot-container\">\r\n      <ChatbotHeader onClose={onClose} />\r\n\r\n      <div className=\"chatbot-messages\">\r\n        {messages.map((msg) => (\r\n          <ChatbotMessage\r\n            key={msg.id}\r\n            message={msg}\r\n            botAvatar={botAvatarUrl}\r\n            userAvatar={userAvatarUrl}\r\n            isBot={msg.sender === \"bot\"}\r\n          />\r\n        ))}\r\n\r\n        {isTyping && <TypingIndicator botAvatar={botAvatarUrl} />}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <ChatbotInput\r\n        inputValue={inputValue}\r\n        setInputValue={setInputValue}\r\n        onSubmit={handleSendMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ChatbotWelcome = ({ onStartChat }) => {\r\n  return (\r\n    <div className=\"chatbot-welcome-container\">\r\n      <div className=\"welcome-content\">\r\n        <img\r\n          src=\"https://cdn-icons-png.flaticon.com/512/8649/8649595.png\"\r\n          alt=\"Asisten Virtual\"\r\n          className=\"chatbot-welcome-icon\"\r\n        />\r\n        <h2 className=\"chatbot-welcome-title\">Asisten Virtual Mountify</h2>\r\n        <p className=\"chatbot-welcome-description\">\r\n          Dapatkan rekomendasi gunung dengan percakapan yang natural dan\r\n          interaktif\r\n        </p>\r\n        <button className=\"chatbot-start-button\" onClick={onStartChat}>\r\n          Mulai Percakapan\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Loading and Error Components ---\r\nconst SpinnerIcon = () => (\r\n  <svg className=\"spinner\" viewBox=\"0 0 50 50\">\r\n    <circle\r\n      className=\"path\"\r\n      cx=\"25\"\r\n      cy=\"25\"\r\n      r=\"20\"\r\n      fill=\"none\"\r\n      strokeWidth=\"5\"\r\n    ></circle>\r\n  </svg>\r\n);\r\n\r\nconst NoResultsIllustration = () => (\r\n  <svg\r\n    className=\"no-results-illustration\"\r\n    width=\"120\"\r\n    height=\"120\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M17.5 17.5L22 22\"\r\n      stroke=\"#bdc3c7\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n    <path\r\n      d=\"M20 11C20 15.9706 15.9706 20 11 20C6.02944 20 2 15.9706 2 11C2 6.02944 6.02944 2 11 2C15.9706 2 20 6.02944 20 11Z\"\r\n      stroke=\"#bdc3c7\"\r\n      strokeWidth=\"2\"\r\n    />\r\n    <path\r\n      d=\"M13.2963 8.70371C12.9361 8.34351 12.4335 8.14844 11.9082 8.14844C11.3829 8.14844 10.8803 8.34351 10.5201 8.70371C10.1599 9.06391 9.96484 9.56651 9.96484 10.0918\"\r\n      stroke=\"#bdc3c7\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n    />\r\n    <path\r\n      d=\"M10.5 15.5C10.5 15.5 11.25 14.5 12 14.5C12.75 14.5 13.5 15.5 13.5 15.5\"\r\n      stroke=\"#bdc3c7\"\r\n      strokeWidth=\"2\"\r\n      strokeLinecap=\"round\"\r\n    />\r\n  </svg>\r\n);\r\n\r\n// --- Error Display Component ---\r\nconst ErrorDisplay = ({ error, onRetry, context = \"operasi\" }) => {\r\n  const getErrorIcon = () => {\r\n    if (error.includes(\"terhubung\") || error.includes(\"fetch\")) {\r\n      return \"\"; // Connection error\r\n    } else if (error.includes(\"404\") || error.includes(\"tidak ditemukan\")) {\r\n      return \"\"; // Not found\r\n    } else if (error.includes(\"500\") || error.includes(\"server error\")) {\r\n      return \"\"; // Server error\r\n    } else if (error.includes(\"JSON\") || error.includes(\"HTML\")) {\r\n      return \"\"; // Format error\r\n    }\r\n    return \"\"; // Generic error\r\n  };\r\n\r\n  const getErrorHelp = () => {\r\n    if (error.includes(\"terhubung\") || error.includes(\"fetch\")) {\r\n      return \"Pastikan backend server sudah berjalan di http://localhost:5000\";\r\n    } else if (error.includes(\"404\") || error.includes(\"tidak ditemukan\")) {\r\n      return \"Endpoint API mungkin belum tersedia atau URL salah\";\r\n    } else if (error.includes(\"500\") || error.includes(\"server error\")) {\r\n      return \"Cek console backend untuk error detail\";\r\n    } else if (error.includes(\"JSON\") || error.includes(\"HTML\")) {\r\n      return \"Server mengembalikan format response yang tidak sesuai\";\r\n    }\r\n    return \"Coba refresh halaman atau hubungi administrator\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"error-display\">\r\n      <div className=\"error-icon\">{getErrorIcon()}</div>\r\n      <h3>Gagal memuat {context}</h3>\r\n      <p className=\"error-message\">{error}</p>\r\n      <p className=\"error-help\">{getErrorHelp()}</p>\r\n      {onRetry && (\r\n        <button\r\n          className=\"retry-button\"\r\n          onClick={onRetry}\r\n          style={{\r\n            background: \"#e74c3c\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            padding: \"8px 16px\",\r\n            borderRadius: \"4px\",\r\n            cursor: \"pointer\",\r\n            marginTop: \"12px\",\r\n          }}\r\n        >\r\n           Coba Lagi\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Debug Helper ---\r\nconst debugAPIConnection = async () => {\r\n  console.log(\" Debug: Testing API Connection...\");\r\n\r\n  // Test basic server connection\r\n  try {\r\n    const response = await fetch(\"http://localhost:5000\");\r\n    console.log(\" Server responds:\", response.status);\r\n  } catch (error) {\r\n    console.error(\" Server not reachable:\", error.message);\r\n    return false;\r\n  }\r\n\r\n  // Test API endpoints\r\n  const endpoints = [\r\n    \"/api/gunung\",\r\n    \"/api/jalur\",\r\n    \"/api/rekomendasi-jalur\",\r\n    \"/api/rekomendasi-gunung\",\r\n  ];\r\n\r\n  for (const endpoint of endpoints) {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000${endpoint}`, {\r\n        method: endpoint.includes(\"rekomendasi\") ? \"POST\" : \"GET\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: endpoint.includes(\"rekomendasi\")\r\n          ? JSON.stringify({\r\n              max_kesulitan_skala: 5,\r\n              min_keamanan_skala: 5,\r\n            })\r\n          : undefined,\r\n      });\r\n\r\n      console.log(\r\n        `${response.ok ? \"\" : \"\"} ${endpoint}: ${response.status}`\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const text = await response.text();\r\n        console.log(`   Response: ${text.substring(0, 100)}...`);\r\n      }\r\n    } catch (error) {\r\n      console.error(` ${endpoint}: ${error.message}`);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n// Call debug function when in development\r\nif (process.env.NODE_ENV === \"development\") {\r\n  window.debugExploreAPI = debugAPIConnection;\r\n  console.log(\" Debug function available: window.debugExploreAPI()\");\r\n}\r\n\r\n// --- Custom Hooks ---\r\nconst useMountainsList = () => {\r\n  const [mountainsList, setMountainsList] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadMountainsList = async () => {\r\n      try {\r\n        const data = await fetchMountainsList();\r\n        setMountainsList(data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching mountains list:\", err);\r\n        setError(\"Gagal memuat daftar gunung. Silakan refresh halaman.\");\r\n      }\r\n    };\r\n\r\n    loadMountainsList();\r\n  }, []);\r\n\r\n  return { mountainsList, error };\r\n};\r\n\r\nconst useExploreHandlers = (\r\n  preferences,\r\n  setPreferences,\r\n  setResults,\r\n  setHasSearched,\r\n  setIsCalculating,\r\n  setError,\r\n  resultsRef,\r\n  searchMode\r\n) => {\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    const isDropdown = [\r\n      \"id_gunung\",\r\n      \"ketinggian\",\r\n      \"lokasi\",\r\n      \"inputType\",\r\n      \"provinsi\",\r\n      \"musim\",\r\n      \"tipe_pendakian\",\r\n    ].includes(name);\r\n    const processedValue = isDropdown ? value : Number(value);\r\n    setPreferences((prev) => ({ ...prev, [name]: processedValue }));\r\n  };\r\n\r\n  const handleInputTypeChange = (newInputType) => {\r\n    setPreferences((prev) => ({ ...prev, inputType: newInputType }));\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setPreferences(INITIAL_PREFERENCES);\r\n    setResults([]);\r\n    setHasSearched(false);\r\n    setError(null);\r\n  };\r\n\r\n  const handleRecommendationSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsCalculating(true);\r\n    setHasSearched(true);\r\n    setError(null);\r\n    setResults([]);\r\n\r\n    try {\r\n      const data = await fetchRecommendations(preferences, searchMode);\r\n\r\n      // Extract recommendations from fuzzy engine response\r\n      let recommendations = [];\r\n      let metadata = null;\r\n\r\n      if (data.rekomendasi_jalur && searchMode === \"jalur\") {\r\n        recommendations = data.rekomendasi_jalur;\r\n        metadata = data.metadata;\r\n      } else if (data.rekomendasi_gunung && searchMode === \"gunung\") {\r\n        recommendations = data.rekomendasi_gunung;\r\n        metadata = data.metadata;\r\n      } else if (data.recommendations) {\r\n        // Fallback for old API format\r\n        recommendations = data.recommendations;\r\n      } else if (Array.isArray(data)) {\r\n        recommendations = data;\r\n      }\r\n\r\n      // Add metadata to first result for display purposes\r\n      if (metadata && recommendations.length > 0) {\r\n        recommendations[0].metadata = metadata;\r\n      }\r\n\r\n      setResults(recommendations);\r\n      scrollToElement(resultsRef);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsCalculating(false);\r\n    }\r\n  };\r\n\r\n  const handleShowAll = async () => {\r\n    setIsCalculating(true);\r\n    setHasSearched(true);\r\n    setError(null);\r\n    setResults([]);\r\n\r\n    try {\r\n      const data = await fetchAllData(searchMode);\r\n\r\n      // Extract data from response\r\n      let recommendations = [];\r\n      let metadata = null;\r\n\r\n      if (data.rekomendasi_jalur && searchMode === \"jalur\") {\r\n        recommendations = data.rekomendasi_jalur;\r\n        metadata = data.metadata;\r\n      } else if (data.rekomendasi_gunung && searchMode === \"gunung\") {\r\n        recommendations = data.rekomendasi_gunung;\r\n        metadata = data.metadata;\r\n      } else if (Array.isArray(data)) {\r\n        recommendations = data;\r\n      } else {\r\n        recommendations = data.data || [];\r\n      }\r\n\r\n      // Add metadata to first result for display purposes\r\n      if (metadata && recommendations.length > 0) {\r\n        recommendations[0].metadata = metadata;\r\n      }\r\n\r\n      setResults(recommendations);\r\n      scrollToElement(resultsRef);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsCalculating(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    handleInputTypeChange,\r\n    handleReset,\r\n    handleRecommendationSubmit,\r\n    handleShowAll,\r\n  };\r\n};\r\n\r\n// Simple Search Component\r\nconst SimpleSearchBar = ({ value, onChange, onSearch, isCalculating }) => (\r\n  <div className=\"simple-search-container\">\r\n    <div className=\"search-bar\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"search-input\"\r\n        placeholder=\"Cari nama gunung atau jalur...\"\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        onKeyPress={(e) => e.key === \"Enter\" && onSearch()}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className=\"search-btn\"\r\n        onClick={onSearch}\r\n        disabled={isCalculating}\r\n      >\r\n        {isCalculating ? \"...\" : \"Cari\"}\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Share functionality component\r\nconst ShareButton = ({ results, searchMode }) => {\r\n  const [showShareMenu, setShowShareMenu] = useState(false);\r\n\r\n  const generateShareText = () => {\r\n    const count = results.length;\r\n    const type = searchMode === \"jalur\" ? \"jalur pendakian\" : \"gunung\";\r\n    return `Saya menemukan ${count} rekomendasi ${type} terbaik di Mountify!  \r\n    \r\nLihat rekomendasi lengkap di: ${window.location.href}\r\n\r\n#Mountify #Pendakian #Gunung #Indonesia`;\r\n  };\r\n\r\n  const shareViaWhatsApp = () => {\r\n    const text = encodeURIComponent(generateShareText());\r\n    window.open(`https://wa.me/?text=${text}`, \"_blank\");\r\n  };\r\n\r\n  const shareViaEmail = () => {\r\n    const subject = encodeURIComponent(\"Rekomendasi Pendakian dari Mountify\");\r\n    const body = encodeURIComponent(generateShareText());\r\n    window.open(`mailto:?subject=${subject}&body=${body}`);\r\n  };\r\n\r\n  const copyToClipboard = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(generateShareText());\r\n      alert(\"Link berhasil disalin!\");\r\n    } catch (err) {\r\n      console.error(\"Gagal menyalin link:\", err);\r\n    }\r\n  };\r\n\r\n  if (!results.length) return null;\r\n\r\n  return (\r\n    <div className=\"share-container\">\r\n      <button\r\n        className=\"share-toggle-btn\"\r\n        onClick={() => setShowShareMenu(!showShareMenu)}\r\n      >\r\n        <i className=\"icon\"></i>\r\n        Bagikan Hasil\r\n      </button>\r\n\r\n      {showShareMenu && (\r\n        <div className=\"share-menu\">\r\n          <button className=\"share-option whatsapp\" onClick={shareViaWhatsApp}>\r\n            <i className=\"icon\"></i>\r\n            WhatsApp\r\n          </button>\r\n          <button className=\"share-option email\" onClick={shareViaEmail}>\r\n            <i className=\"icon\"></i>\r\n            Email\r\n          </button>\r\n          <button className=\"share-option copy\" onClick={copyToClipboard}>\r\n            <i className=\"icon\"></i>\r\n            Salin Link\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Modal Panduan Penggunaan & Kriteria\r\nfunction UsageGuideModal({ open, onClose }) {\r\n  if (!open) return null;\r\n  return (\r\n    <div\r\n      className=\"usage-modal-backdrop\"\r\n      style={{\r\n        position: \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: \"rgba(0,0,0,0.4)\",\r\n        zIndex: 2000,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <div\r\n        className=\"usage-modal-content\"\r\n        style={{\r\n          background: \"#fff\",\r\n          borderRadius: 8,\r\n          maxWidth: 600,\r\n          width: \"90%\",\r\n          padding: 32,\r\n          boxShadow: \"0 4px 24px rgba(0,0,0,0.15)\",\r\n          position: \"relative\",\r\n          maxHeight: \"90vh\",\r\n          overflowY: \"auto\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <button\r\n          onClick={onClose}\r\n          style={{\r\n            position: \"sticky\",\r\n            top: 0,\r\n            right: 0,\r\n            alignSelf: \"flex-end\",\r\n            fontSize: 22,\r\n            background: \"none\",\r\n            border: \"none\",\r\n            cursor: \"pointer\",\r\n            zIndex: 10,\r\n          }}\r\n          aria-label=\"Tutup\"\r\n        >\r\n          &times;\r\n        </button>\r\n        <h2 style={{ marginTop: 0 }}>Panduan Penggunaan & Info Kriteria</h2>\r\n        <h3>Cara Penggunaan</h3>\r\n        <ol style={{ paddingLeft: 20 }}>\r\n          <li>\r\n            Pilih mode pencarian: <b>jalur</b> (jalur pendakian) atau{\" \"}\r\n            <b>gunung</b> (rekomendasi gunung terbaik).\r\n          </li>\r\n          <li>\r\n            Atur preferensi menggunakan <b>slider</b> (kontrol) atau{\" \"}\r\n            <b>dropdown</b> (pilihan deskriptif) dengan klik \"Mode Input\".\r\n          </li>\r\n          <li>\r\n            Isi filter sesuai kebutuhan: tingkat kesulitan, keamanan, estimasi\r\n            waktu, ketinggian, fasilitas, air, variasi lanskap, perlindungan\r\n            angin, jaringan komunikasi, tingkat insiden, dsb.\r\n          </li>\r\n          <li>\r\n            Klik <b>Cari Rekomendasi</b> untuk menampilkan hasil.\r\n          </li>\r\n          <li>\r\n            Gunakan <b>pencarian cepat</b> (quick search) untuk mencari nama\r\n            gunung/jalur secara langsung.\r\n          </li>\r\n          <li>\r\n            Untuk bantuan interaktif, klik ikon <b>chatbot</b> dan ajukan\r\n            pertanyaan secara natural.\r\n          </li>\r\n        </ol>\r\n        <h3 style={{ marginTop: 24 }}>Info Kriteria & Skala Filter</h3>\r\n        <table\r\n          style={{\r\n            width: \"100%\",\r\n            borderCollapse: \"collapse\",\r\n            fontSize: 14,\r\n            marginBottom: 12,\r\n          }}\r\n        >\r\n          <thead>\r\n            <tr style={{ background: \"#f5f5f5\" }}>\r\n              <th style={{ border: \"1px solid #ddd\", padding: \"6px\" }}>\r\n                Kriteria\r\n              </th>\r\n              <th style={{ border: \"1px solid #ddd\", padding: \"6px\" }}>\r\n                Rentang & Arti\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td style={{ border: \"1px solid #ddd\", padding: \"6px\" }}>\r\n                max_kesulitan_skala\r\n              </td>\r\n              <td style={{ border: \"1px solid #ddd\", padding: \"6px\" }}>\r\n                1 (sangat mudah) - 10 (ekstrem)\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_keamanan_skala</td>\r\n              <td>1 (sangat berisiko) - 10 (maksimal aman)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>max_estimasi_waktu_jam</td>\r\n              <td>Estimasi waktu tempuh (jam)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>max_ketinggian_mdpl</td>\r\n              <td>Ketinggian puncak (meter)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_kualitas_fasilitas_skala</td>\r\n              <td>1 (sangat minim) - 10 (mewah)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_kualitas_kemah_skala</td>\r\n              <td>1 (sangat terbatas) - 10 (eksklusif)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_keindahan_pemandangan_skala</td>\r\n              <td>1 (kurang menarik) - 10 (luar biasa)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_ketersediaan_air</td>\r\n              <td>1 (sangat langka) - 10 (berlimpah ruah)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_variasi_lanskap</td>\r\n              <td>1 (sangat monoton) - 10 (luar biasa beragam)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_perlindungan_angin</td>\r\n              <td>1 (sangat terekspos) - 10 (ideal terlindungi)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_jaringan_komunikasi</td>\r\n              <td>1 (tidak ada sinyal) - 10 (sinyal optimal)</td>\r\n            </tr>\r\n            <tr>\r\n              <td>min_tingkat_keamanan_insiden</td>\r\n              <td>1 (insiden sangat sering) - 10 (maksimal aman)</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div style={{ fontSize: 13, color: \"#666\", marginBottom: 8 }}>\r\n          Semakin tinggi nilai minimum pada filter, semakin ketat hasil\r\n          rekomendasi.\r\n          <br />\r\n          Setiap kriteria dapat diatur sesuai kebutuhan pendaki (pemula,\r\n          menengah, ahli).\r\n          <br />\r\n          Untuk info detail skala, lihat tooltip atau label pada masing-masing\r\n          filter di UI.\r\n        </div>\r\n        <button\r\n          onClick={onClose}\r\n          style={{\r\n            marginTop: 8,\r\n            background: \"#27ae60\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            padding: \"8px 20px\",\r\n            borderRadius: 4,\r\n            cursor: \"pointer\",\r\n            alignSelf: \"flex-end\",\r\n          }}\r\n        >\r\n          Tutup\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Explore() {\r\n  const [searchMode, setSearchMode] = useState(\"jalur\");\r\n  const [chatStarted, setChatStarted] = useState(false);\r\n  const [preferences, setPreferences] = useState(INITIAL_PREFERENCES);\r\n  const [results, setResults] = useState([]);\r\n  const [hasSearched, setHasSearched] = useState(false);\r\n  const [isCalculating, setIsCalculating] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showHelp, setShowHelp] = useState(false);\r\n  const [showUsage, setShowUsage] = useState(false); // New state for usage guide\r\n  const resultsRef = useRef(null);\r\n\r\n  // Use custom hooks\r\n  const { mountainsList, error: mountainsError } = useMountainsList();\r\n  const {\r\n    handleChange,\r\n    handleInputTypeChange,\r\n    handleReset,\r\n    handleRecommendationSubmit,\r\n    handleShowAll,\r\n  } = useExploreHandlers(\r\n    preferences,\r\n    setPreferences,\r\n    setResults,\r\n    setHasSearched,\r\n    setIsCalculating,\r\n    setError,\r\n    resultsRef,\r\n    searchMode\r\n  );\r\n\r\n  // Set initial mode to virtual assistant\r\n  useEffect(() => {\r\n    setSearchMode(\"virtual\");\r\n    setChatStarted(false);\r\n  }, []);\r\n\r\n  // Handle mode changes\r\n  const handleModeChange = (mode) => {\r\n    setSearchMode(mode);\r\n    if (mode === \"virtual\") {\r\n      setChatStarted(false);\r\n    } else {\r\n      handleReset();\r\n    }\r\n  };\r\n\r\n  // Handle quick search\r\n  const handleQuickSearch = async () => {\r\n    if (!preferences.quickSearch.trim()) return;\r\n\r\n    setIsCalculating(true);\r\n    setHasSearched(true);\r\n    setError(null);\r\n    setResults([]);\r\n\r\n    try {\r\n      // Use the regular recommendation API with search term\r\n      const searchPreferences = {\r\n        ...preferences,\r\n        search_term: preferences.quickSearch,\r\n      };\r\n\r\n      const data = await fetchRecommendations(searchPreferences, searchMode);\r\n\r\n      // Extract recommendations from fuzzy engine response\r\n      let recommendations = [];\r\n      let metadata = null;\r\n\r\n      if (data.rekomendasi_jalur && searchMode === \"jalur\") {\r\n        recommendations = data.rekomendasi_jalur;\r\n        metadata = data.metadata;\r\n      } else if (data.rekomendasi_gunung && searchMode === \"gunung\") {\r\n        recommendations = data.rekomendasi_gunung;\r\n        metadata = data.metadata;\r\n      } else if (data.recommendations) {\r\n        recommendations = data.recommendations;\r\n      } else if (Array.isArray(data)) {\r\n        recommendations = data;\r\n      }\r\n\r\n      // Add metadata to first result for display purposes\r\n      if (metadata && recommendations.length > 0) {\r\n        recommendations[0].metadata = metadata;\r\n      }\r\n\r\n      setResults(recommendations);\r\n      scrollToElement(resultsRef);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setIsCalculating(false);\r\n    }\r\n  };\r\n\r\n  // Update error state if mountains loading fails\r\n  useEffect(() => {\r\n    if (mountainsError) {\r\n      setError(mountainsError);\r\n    }\r\n  }, [mountainsError]);\r\n\r\n  return (\r\n    <div className=\"explore-page-container\">\r\n      {/* Tombol Panduan Penggunaan */}\r\n      <button\r\n        className=\"usage-guide-btn\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: 90,\r\n          right: 24,\r\n          zIndex: 1100,\r\n          background: \"#27ae60\",\r\n          color: \"#fff\",\r\n          border: \"none\",\r\n          borderRadius: 20,\r\n          padding: \"8px 18px\",\r\n          fontWeight: 600,\r\n          cursor: \"pointer\",\r\n          boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\r\n        }}\r\n        onClick={() => setShowUsage(true)}\r\n      >\r\n        ?\r\n      </button>\r\n      <UsageGuideModal open={showUsage} onClose={() => setShowUsage(false)} />\r\n      <header className=\"explore-header\">\r\n        <div className=\"header-content\">\r\n          <h1>Rekomendasi Pendakian</h1>\r\n          <p>Temukan gunung dan jalur yang sesuai dengan preferensi Anda</p>\r\n        </div>\r\n        <div className=\"mode-switcher\">\r\n          <button\r\n            onClick={() => handleModeChange(\"virtual\")}\r\n            className={`mode-btn ${searchMode === \"virtual\" ? \"active\" : \"\"}`}\r\n          >\r\n            <span className=\"mode-icon\"></span>\r\n            Asisten Virtual\r\n          </button>\r\n          <button\r\n            onClick={() => handleModeChange(\"gunung\")}\r\n            className={`mode-btn ${searchMode === \"gunung\" ? \"active\" : \"\"}`}\r\n          >\r\n            <span className=\"mode-icon\"></span>\r\n            Gunung\r\n          </button>\r\n          <button\r\n            onClick={() => handleModeChange(\"jalur\")}\r\n            className={`mode-btn ${searchMode === \"jalur\" ? \"active\" : \"\"}`}\r\n          >\r\n            <span className=\"mode-icon\"></span>\r\n            Jalur\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {searchMode !== \"virtual\" && (\r\n        <>\r\n          {/* Simple Search Section */}\r\n          <SimpleSearchBar\r\n            value={preferences.quickSearch}\r\n            onChange={(value) =>\r\n              setPreferences((prev) => ({ ...prev, quickSearch: value }))\r\n            }\r\n            onSearch={handleQuickSearch}\r\n            isCalculating={isCalculating}\r\n          />\r\n\r\n          <form\r\n            className=\"recommendation-form\"\r\n            onSubmit={handleRecommendationSubmit}\r\n          >\r\n            <div className=\"form-header\">\r\n              <h3>Preferensi Pendakian</h3>\r\n              <div className=\"header-controls\">\r\n                <InputTypeSwitcher\r\n                  inputType={preferences.inputType}\r\n                  onInputTypeChange={handleInputTypeChange}\r\n                />\r\n                {/* <div className=\"help-buttons-group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"help-toggle-btn\"\r\n                    onClick={() => setShowUsage(!showUsage)}\r\n                    title={\r\n                      showUsage\r\n                        ? \"Sembunyikan cara penggunaan\"\r\n                        : \"Tampilkan cara penggunaan\"\r\n                    }\r\n                  >\r\n                    {showUsage ? \"Sembunyikan Panduan\" : \"Cara Penggunaan\"}\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"help-toggle-btn\"\r\n                    onClick={() => setShowHelp(!showHelp)}\r\n                    title={\r\n                      showHelp\r\n                        ? \"Sembunyikan info kriteria\"\r\n                        : \"Tampilkan info kriteria\"\r\n                    }\r\n                  >\r\n                    {showHelp ? \"Sembunyikan Info\" : \"Info Kriteria\"}\r\n                  </button>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Usage Guide Section */}\r\n            {showUsage && (\r\n              <div className=\"help-section\">\r\n                <h4 className=\"help-title\">\r\n                   Panduan Penggunaan Sistem Rekomendasi\r\n                </h4>\r\n                <div className=\"usage-content\">\r\n                  <div className=\"usage-step\">\r\n                    <h5> 1. Pilih Mode Pencarian</h5>\r\n                    <ul>\r\n                      <li>\r\n                        <strong>Gunung:</strong> Mencari rekomendasi gunung\r\n                        terbaik berdasarkan preferensi\r\n                      </li>\r\n                      <li>\r\n                        <strong>Jalur:</strong> Mencari jalur pendakian spesifik\r\n                        dengan kriteria detail\r\n                      </li>\r\n                      <li>\r\n                        <strong>Asisten Virtual:</strong> Gunakan chatbot untuk\r\n                        pencarian interaktif\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"usage-step\">\r\n                    <h5> 2. Atur Mode Input</h5>\r\n                    <ul>\r\n                      <li>\r\n                        <strong>Kontrol:</strong> Gunakan slider untuk mengatur\r\n                        nilai secara kontinu\r\n                      </li>\r\n                      <li>\r\n                        <strong>Pilihan:</strong> Pilih dari dropdown dengan\r\n                        deskripsi yang jelas\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"usage-step\">\r\n                    <h5> 3. Pencarian Cepat</h5>\r\n                    <p>\r\n                      Gunakan kolom pencarian untuk menemukan gunung atau jalur\r\n                      berdasarkan nama secara langsung.\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"usage-step\">\r\n                    <h5> 4. Atur Preferensi</h5>\r\n                    <ul>\r\n                      <li>\r\n                        Sesuaikan setiap kriteria berdasarkan kemampuan dan\r\n                        preferensi Anda\r\n                      </li>\r\n                      <li>\r\n                        Nilai lebih tinggi = kriteria lebih ketat/spesifik\r\n                      </li>\r\n                      <li>Gunakan tooltip untuk memahami setiap kriteria</li>\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"usage-step\">\r\n                    <h5> 5. Dapatkan Rekomendasi</h5>\r\n                    <ul>\r\n                      <li>\r\n                        <strong>Dapatkan Rekomendasi:</strong> Sistem akan\r\n                        menganalisis preferensi Anda\r\n                      </li>\r\n                      <li>\r\n                        <strong>Lihat Semua:</strong> Tampilkan semua data tanpa\r\n                        filter\r\n                      </li>\r\n                      <li>\r\n                        <strong>Reset:</strong> Kembalikan ke pengaturan default\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"usage-tip\">\r\n                    <h5> Tips Penggunaan:</h5>\r\n                    <ul>\r\n                      <li>\r\n                        Mulai dengan kriteria keamanan tinggi untuk pemula\r\n                      </li>\r\n                      <li>Sesuaikan durasi dengan kemampuan fisik Anda</li>\r\n                      <li>Pertimbangkan musim dan cuaca saat memilih</li>\r\n                      <li>\r\n                        Gunakan filter gunung spesifik untuk jalur tertentu\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Help Section - Conditional Rendering */}\r\n            {showHelp && (\r\n              <div className=\"help-section\">\r\n                <h4 className=\"help-title\"> Info Kriteria Penilaian</h4>\r\n\r\n                <div className=\"criteria-section\">\r\n                  <div className=\"help-grid\">\r\n                    <div className=\"help-item\">\r\n                      <strong> Kesulitan:</strong> Tingkat tantangan teknis\r\n                      dan fisik jalur berdasarkan standar nasional &\r\n                      internasional (Grade 1-5, YDS)\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Keamanan:</strong> Berdasarkan data insiden\r\n                      BASARNAS & evaluasi SAR\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Fasilitas:</strong> Kelengkapan basecamp,\r\n                      shelter, toilet, dan fasilitas pendukung\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Area Kemah:</strong> Kualitas lokasi bermalam,\r\n                      ground datar, dan perlindungan cuaca\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Pemandangan:</strong> Keindahan panorama,\r\n                      sunrise/sunset, dan daya tarik visual\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Durasi:</strong> Estimasi waktu naik-turun\r\n                      berdasarkan pengalaman rata-rata pendaki\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Ketinggian:</strong> Maksimal ketinggian puncak\r\n                      (mdpl)\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Ketersediaan Air:</strong> Akses sumber air\r\n                      bersih sepanjang jalur & area kemah\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Variasi Lanskap:</strong> Keragaman ekosistem,\r\n                      flora-fauna, dan formasi geologis\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Perlindungan Angin:</strong> Tingkat\r\n                      keterlindungan area kemah dari angin kencang\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Jaringan Komunikasi:</strong> Kualitas sinyal\r\n                      seluler untuk komunikasi darurat\r\n                    </div>\r\n                    <div className=\"help-item\">\r\n                      <strong> Tingkat Insiden:</strong> Riwayat keamanan\r\n                      berdasarkan data SAR & kejadian kecelakaan\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"help-note\">\r\n                  <strong> Referensi:</strong> BASARNAS Indonesia, WANADRI,\r\n                  UIAA, Database Gunung Indonesia.\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {searchMode === \"jalur\" && (\r\n              <div className=\"filter-section\">\r\n                <h4 className=\"section-title\">Filter Spesifik</h4>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"id_gunung\">Pilih Gunung Tertentu</label>\r\n                  <select\r\n                    id=\"id_gunung\"\r\n                    name=\"id_gunung\"\r\n                    className=\"filter-select\"\r\n                    value={preferences.id_gunung}\r\n                    onChange={handleChange}\r\n                  >\r\n                    <option value=\"\">Semua Gunung</option>\r\n                    {mountainsList.map((g) => (\r\n                      <option key={g.id_gunung} value={g.id_gunung}>\r\n                        {g.nama_gunung}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"filter-section\">\r\n              <h4 className=\"section-title\">Kesulitan & Keamanan</h4>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"max_kesulitan_skala\">\r\n                    <span>Tingkat Kesulitan Maksimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getDifficultyDescription(\r\n                        preferences.max_kesulitan_skala\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"max_kesulitan_skala\"\r\n                    name=\"max_kesulitan_skala\"\r\n                    value={preferences.max_kesulitan_skala}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getDifficultyDescription}\r\n                    rangeLabels={{ min: \"Mudah\", max: \"Sulit\" }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_keamanan_skala\">\r\n                    <span>Tingkat Keamanan Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getSafetyDescription(preferences.min_keamanan_skala)}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_keamanan_skala\"\r\n                    name=\"min_keamanan_skala\"\r\n                    value={preferences.min_keamanan_skala}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getSafetyDescription}\r\n                    rangeLabels={{ min: \"Berisiko\", max: \"Sangat Aman\" }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4 className=\"section-title\">Durasi & Ketinggian</h4>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"max_estimasi_waktu_jam\">\r\n                    Maksimal Durasi Pendakian\r\n                  </label>\r\n                  <TimeInput\r\n                    id=\"max_estimasi_waktu_jam\"\r\n                    name=\"max_estimasi_waktu_jam\"\r\n                    value={preferences.max_estimasi_waktu_jam}\r\n                    onChange={handleChange}\r\n                    inputType={preferences.inputType}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"max_ketinggian_mdpl\">\r\n                    <span>Ketinggian Maksimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getAltitudeDescription(preferences.max_ketinggian_mdpl)}\r\n                    </span>\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"max_ketinggian_mdpl\"\r\n                    name=\"max_ketinggian_mdpl\"\r\n                    className=\"number-input\"\r\n                    value={preferences.max_ketinggian_mdpl}\r\n                    onChange={handleChange}\r\n                    min=\"0\"\r\n                    max=\"6000\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4 className=\"section-title\">Fasilitas & Kenyamanan</h4>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_kualitas_fasilitas_skala\">\r\n                    <span>Kualitas Fasilitas Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getFacilityDescription(\r\n                        preferences.min_kualitas_fasilitas_skala\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_kualitas_fasilitas_skala\"\r\n                    name=\"min_kualitas_fasilitas_skala\"\r\n                    value={preferences.min_kualitas_fasilitas_skala}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getFacilityDescription}\r\n                    rangeLabels={{ min: \"Minim\", max: \"Lengkap\" }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_kualitas_kemah_skala\">\r\n                    <span>Kualitas Area Kemah Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getCampQualityDescription(\r\n                        preferences.min_kualitas_kemah_skala\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_kualitas_kemah_skala\"\r\n                    name=\"min_kualitas_kemah_skala\"\r\n                    value={preferences.min_kualitas_kemah_skala}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getCampQualityDescription}\r\n                    rangeLabels={{ min: \"Terbatas\", max: \"Sangat Baik\" }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4 className=\"section-title\">Pemandangan & Lingkungan</h4>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_keindahan_pemandangan_skala\">\r\n                    <span>Keindahan Pemandangan Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getSceneryDescription(\r\n                        preferences.min_keindahan_pemandangan_skala\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_keindahan_pemandangan_skala\"\r\n                    name=\"min_keindahan_pemandangan_skala\"\r\n                    value={preferences.min_keindahan_pemandangan_skala}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getSceneryDescription}\r\n                    rangeLabels={{ min: \"Biasa\", max: \"Istimewa\" }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_ketersediaan_air\">\r\n                    <span>Ketersediaan Air Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getWaterAvailabilityDescription(\r\n                        preferences.min_ketersediaan_air\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_ketersediaan_air\"\r\n                    name=\"min_ketersediaan_air\"\r\n                    value={preferences.min_ketersediaan_air}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getWaterAvailabilityDescription}\r\n                    rangeLabels={{ min: \"Langka\", max: \"Melimpah\" }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4 className=\"section-title\">Lanskap & Perlindungan</h4>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_variasi_lanskap\">\r\n                    <span>Variasi Lanskap Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getLandscapeVariationDescription(\r\n                        preferences.min_variasi_lanskap\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_variasi_lanskap\"\r\n                    name=\"min_variasi_lanskap\"\r\n                    value={preferences.min_variasi_lanskap}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getLandscapeVariationDescription}\r\n                    rangeLabels={{ min: \"Monoton\", max: \"Sangat Bervariasi\" }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_perlindungan_angin\">\r\n                    <span>Perlindungan Angin Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getWindProtectionDescription(\r\n                        preferences.min_perlindungan_angin\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_perlindungan_angin\"\r\n                    name=\"min_perlindungan_angin\"\r\n                    value={preferences.min_perlindungan_angin}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getWindProtectionDescription}\r\n                    rangeLabels={{\r\n                      min: \"Terekspos\",\r\n                      max: \"Sangat Terlindungi\",\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"filter-section\">\r\n              <h4 className=\"section-title\">Komunikasi & Keamanan Insiden</h4>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_jaringan_komunikasi\">\r\n                    <span>Sinyal Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getCommunicationDescription(\r\n                        preferences.min_jaringan_komunikasi\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_jaringan_komunikasi\"\r\n                    name=\"min_jaringan_komunikasi\"\r\n                    value={preferences.min_jaringan_komunikasi}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getCommunicationDescription}\r\n                    rangeLabels={{\r\n                      min: \"Tidak Ada Sinyal\",\r\n                      max: \"Sinyal Sangat Baik\",\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"min_tingkat_keamanan_insiden\">\r\n                    <span>Insiden Minimal</span>\r\n                    <span className=\"preference-value\">\r\n                      {getIncidentSafetyDescription(\r\n                        preferences.min_tingkat_keamanan_insiden\r\n                      )}\r\n                    </span>\r\n                  </label>\r\n                  <ScaleInput\r\n                    id=\"min_tingkat_keamanan_insiden\"\r\n                    name=\"min_tingkat_keamanan_insiden\"\r\n                    value={preferences.min_tingkat_keamanan_insiden}\r\n                    onChange={handleChange}\r\n                    min={1}\r\n                    max={10}\r\n                    inputType={preferences.inputType}\r\n                    getDescription={getIncidentSafetyDescription}\r\n                    rangeLabels={{ min: \"Sering\", max: \"Sangat Aman\" }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-actions\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"action-button secondary\"\r\n                onClick={handleShowAll}\r\n                disabled={isCalculating}\r\n              >\r\n                Lihat Semua\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"action-button tertiary\"\r\n                onClick={handleReset}\r\n                disabled={isCalculating}\r\n              >\r\n                Reset\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"action-button primary\"\r\n                disabled={isCalculating}\r\n              >\r\n                {isCalculating ? (\r\n                  <>\r\n                    <SpinnerIcon /> Menganalisis...\r\n                  </>\r\n                ) : (\r\n                  \"Dapatkan Rekomendasi\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n\r\n          <section className=\"results-section\" ref={resultsRef}>\r\n            {hasSearched && (\r\n              <header className=\"results-header\">\r\n                <h2>Hasil Rekomendasi</h2>\r\n                <ShareButton results={results} searchMode={searchMode} />\r\n              </header>\r\n            )}\r\n\r\n            {/* Display fuzzy engine metadata if available */}\r\n            {hasSearched && results.length > 0 && results[0].metadata && (\r\n              <div className=\"engine-info\">\r\n                <div className=\"engine-stats\">\r\n                  <span className=\"stat-item\">\r\n                     Engine:{\" \"}\r\n                    {results[0].metadata.engine_info?.versi || \"v5.0\"}\r\n                  </span>\r\n                  <span className=\"stat-item\">\r\n                     {results[0].metadata.engine_info?.total_variabel || 13}{\" \"}\r\n                    variabel input\r\n                  </span>\r\n                  {results[0].metadata.statistik_skor && (\r\n                    <span className=\"stat-item\">\r\n                       Skor tertinggi:{\" \"}\r\n                      {results[0].metadata.statistik_skor.tertinggi?.toFixed(1)}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"results-grid\">\r\n              {isCalculating && (\r\n                <div className=\"explore-page-status\">\r\n                  <SpinnerIcon /> Memuat data...\r\n                </div>\r\n              )}\r\n              {error && (\r\n                <ErrorDisplay\r\n                  error={error}\r\n                  context={`rekomendasi ${searchMode}`}\r\n                  onRetry={() => {\r\n                    setError(null);\r\n                    setHasSearched(false);\r\n                  }}\r\n                />\r\n              )}\r\n              {!isCalculating &&\r\n                hasSearched &&\r\n                !error &&\r\n                (results.length > 0 ? (\r\n                  results.map((item, index) =>\r\n                    searchMode === \"jalur\" ? (\r\n                      <TrailCard\r\n                        key={item.id_jalur || index}\r\n                        trail={item}\r\n                        index={index}\r\n                      />\r\n                    ) : (\r\n                      <MountainCard\r\n                        key={item.id_gunung || index}\r\n                        mountain={item}\r\n                        index={index}\r\n                      />\r\n                    )\r\n                  )\r\n                ) : (\r\n                  <div className=\"no-results-message\">\r\n                    <NoResultsIllustration />\r\n                    <h4>Tidak ada hasil yang cocok</h4>\r\n                    <p>\r\n                      Coba ubah preferensi Anda atau lihat semua data yang\r\n                      tersedia.\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              {!hasSearched && !isCalculating && !error && (\r\n                <div className=\"no-results-message\">\r\n                  <h4>Hasil akan muncul di sini</h4>\r\n                  <p>\r\n                    Atur preferensi untuk mendapat rekomendasi, atau klik \"Lihat\r\n                    Semua\" untuk menjelajah.\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {/* Share Results Section - Conditional Rendering */}\r\n          {hasSearched && results.length > 0 && (\r\n            <div className=\"share-results-section\">\r\n              <h4 className=\"share-title\">Bagikan Rekomendasi</h4>\r\n              <ShareButton results={results} searchMode={searchMode} />\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Bagian ini menampilkan Welcome Screen atau tidak sama sekali */}\r\n      {searchMode === \"virtual\" && !chatStarted && (\r\n        <ChatbotWelcome onStartChat={() => setChatStarted(true)} />\r\n      )}\r\n\r\n      {/* BAGIAN BARU: Render overlay chatbot secara terpisah */}\r\n      {searchMode === \"virtual\" && chatStarted && (\r\n        <div className=\"chatbot-overlay\" onClick={() => setChatStarted(false)}>\r\n          <div\r\n            className=\"chatbot-container\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <Chatbot onClose={() => setChatStarted(false)} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Explore;\r\n"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","uuid","REGEX","test","byteToHex","i","push","toString","substr","arr","offset","arguments","length","undefined","toLowerCase","validate","TypeError","options","buf","rnds","random","stringify","API_BASE_URL","INITIAL_PREFERENCES","id_gunung","max_kesulitan_skala","min_keamanan_skala","max_estimasi_waktu_jam","max_ketinggian_mdpl","min_kualitas_fasilitas_skala","min_kualitas_kemah_skala","min_keindahan_pemandangan_skala","min_ketersediaan_air","min_variasi_lanskap","min_perlindungan_angin","min_jaringan_komunikasi","min_tingkat_keamanan_insiden","ketinggian","lokasi","inputType","quickSearch","INITIAL_CHATBOT_MESSAGE","id","uuidv4","text","sender","timestamp","Date","toLocaleTimeString","hour","minute","createImageSrc","thumbnail","concat","replace","createMessage","payload","scrollToElement","ref","setTimeout","_ref$current","current","scrollIntoView","behavior","getDifficultyDescription","v","getSafetyDescription","getFacilityDescription","getCampQualityDescription","getSceneryDescription","getWaterAvailabilityDescription","getLandscapeVariationDescription","getWindProtectionDescription","getCommunicationDescription","getIncidentSafetyDescription","getDifficultyClass","difficulty","getDifficultyText","CardImage","_ref","src","alt","onError","_jsx","className","DifficultyBadge","_ref2","children","ScoreBadge","_ref3","score","category","label","getScoreClass","_jsxs","toFixed","TrailCard","_ref4","trail","index","style","animationDelay","url_thumbnail","nama_jalur","e","target","onerror","kesulitan_skala","skor_rekomendasi","kategori_rekomendasi","nama_gunung","ketinggian_puncak_mdpl","toLocaleString","estimasi_waktu_jam","keamanan_skala","Link","to","id_jalur","MountainCard","_ref5","mountain","skor_tertinggi","lokasi_administratif","jalur_terbaik","jumlah_jalur","ChatbotMessage","_ref6","message","botAvatar","userAvatar","isBot","map","item","TypingIndicator","_ref7","ChatbotHeader","_ref8","onClose","onClick","ChatbotInput","_ref9","inputValue","setInputValue","onSubmit","type","value","onChange","placeholder","ScaleInput","_ref0","name","min","max","getDescription","rangeLabels","uniqueOptions","Map","description","key","has","set","originalValue","Array","from","values","sort","a","b","generateUniqueScaleOptions","option","_Fragment","step","TimeInput","_ref1","InputTypeSwitcher","_ref10","onInputTypeChange","fetchRecommendations","async","preferences","searchMode","endpoint","backendPreferences","search_term","Object","keys","forEach","console","log","response","fetch","method","headers","Accept","body","JSON","status","url","contentType","get","ok","errorMessage","includes","json","errorText","error","substring","parseError","responseText","data","Chatbot","_ref11","messages","setMessages","useState","isTyping","setIsTyping","sessionId","messagesEndRef","useRef","botAvatarUrl","useEffect","scrollToBottom","_messagesEndRef$curre","msg","preventDefault","trim","userMessage","prev","sendChatMessage","botResponses","fulfillmentMessages","_msg$payload$fields","_msg$payload$fields$t","fields","stringValue","recommendationData","listValue","val","structValue","field","numberValue","filter","Boolean","processChatbotResponse","ChatbotWelcome","_ref12","onStartChat","SpinnerIcon","viewBox","cx","cy","r","fill","strokeWidth","NoResultsIllustration","width","height","xmlns","d","stroke","strokeLinecap","strokeLinejoin","ErrorDisplay","_ref13","onRetry","context","background","color","border","padding","borderRadius","cursor","marginTop","useMountainsList","mountainsList","setMountainsList","setError","fetchMountainsList","err","loadMountainsList","useExploreHandlers","setPreferences","setResults","setHasSearched","setIsCalculating","resultsRef","handleChange","processedValue","Number","_objectSpread","handleInputTypeChange","newInputType","handleReset","handleRecommendationSubmit","recommendations","metadata","rekomendasi_jalur","rekomendasi_gunung","isArray","handleShowAll","fetchAllData","SimpleSearchBar","_ref14","onSearch","isCalculating","onKeyPress","disabled","ShareButton","_ref15","results","showShareMenu","setShowShareMenu","generateShareText","count","window","location","href","shareViaWhatsApp","encodeURIComponent","open","shareViaEmail","subject","navigator","clipboard","writeText","alert","UsageGuideModal","_ref16","position","top","left","right","bottom","zIndex","display","alignItems","justifyContent","maxWidth","boxShadow","maxHeight","overflowY","flexDirection","alignSelf","fontSize","paddingLeft","borderCollapse","marginBottom","_results$0$metadata$e","_results$0$metadata$e2","_results$0$metadata$s","setSearchMode","chatStarted","setChatStarted","hasSearched","showHelp","setShowHelp","showUsage","setShowUsage","mountainsError","handleModeChange","mode","fontWeight","searchPreferences","htmlFor","g","engine_info","versi","total_variabel","statistik_skor","tertinggi","stopPropagation"],"sourceRoot":""}