{"version":3,"file":"static/js/744.42ba37aa.chunk.js","mappings":"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","sources":["pages/admin/artikel/EditArtikel.js","components/common/TipTapEditor.js"],"sourcesContent":["// src/pages/admin/artikel/EditArtikel.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, Link, useParams } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport TipTapEditor from \"../../../components/common/TipTapEditor\";\r\nimport \"./FormArtikel.css\";\r\n\r\nconst API_BASE_URL = \"http://localhost:5000/api/admin\";\r\n\r\nfunction EditArtikel() {\r\n  const navigate = useNavigate();\r\n  const { id_artikel } = useParams();\r\n\r\n  const [formData, setFormData] = useState({\r\n    judul: \"\",\r\n    kategori: \"Tips & Trik\",\r\n    status: \"Draft\",\r\n    konten: \"\",\r\n  });\r\n  const [fotoFile, setFotoFile] = useState(null);\r\n  const [fotoPreview, setFotoPreview] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchArtikelById = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const token = localStorage.getItem(\"token\"); // <-- 1. Ambil token\r\n        if (!token) {\r\n          toast.error(\"Anda harus login untuk mengedit artikel.\");\r\n          navigate(\"/login\");\r\n          return;\r\n        }\r\n\r\n        const response = await fetch(`${API_BASE_URL}/articles/${id_artikel}`, {\r\n          headers: {\r\n            // <-- 2. Kirim token di headers\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Artikel tidak ditemukan atau gagal dimuat.\");\r\n        }\r\n\r\n        const data = await response.json();\r\n        setFormData({\r\n          judul: data.judul,\r\n          kategori: data.kategori,\r\n          status: data.status,\r\n          konten: data.isi_artikel,\r\n        });\r\n        setFotoPreview(data.url_gambar_utama);\r\n      } catch (error) {\r\n        toast.error(error.message);\r\n        navigate(\"/admin/articles\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchArtikelById();\r\n  }, [id_artikel, navigate]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!formData.judul || !formData.konten) {\r\n      toast.warn(\"Judul dan Konten artikel tidak boleh kosong.\");\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\"); // <-- 3. Ambil token untuk submit\r\n      if (!token) {\r\n        toast.error(\"Sesi Anda berakhir. Silakan login kembali.\");\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const dataToSubmit = new FormData();\r\n      dataToSubmit.append(\"judul\", formData.judul);\r\n      dataToSubmit.append(\"kategori\", formData.kategori);\r\n      dataToSubmit.append(\"status\", formData.status);\r\n      dataToSubmit.append(\"isi_artikel\", formData.konten);\r\n      if (fotoFile) {\r\n        dataToSubmit.append(\"foto_utama\", fotoFile);\r\n      }\r\n\r\n      const response = await fetch(`${API_BASE_URL}/articles/${id_artikel}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          // <-- 4. Kirim token untuk submit\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: dataToSubmit,\r\n      });\r\n\r\n      const result = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(result.message || \"Gagal memperbarui artikel.\");\r\n      }\r\n\r\n      toast.success(`Artikel berhasil diperbarui!`);\r\n      setTimeout(() => navigate(\"/admin/articles\"), 2000);\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevState) => ({ ...prevState, [name]: value }));\r\n  };\r\n\r\n  const handleKontenChange = (newContent) => {\r\n    setFormData((prevState) => ({ ...prevState, konten: newContent }));\r\n  };\r\n\r\n  const handleFotoChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type.startsWith(\"image/\")) {\r\n      setFotoFile(file);\r\n      setFotoPreview(URL.createObjectURL(file));\r\n    } else {\r\n      toast.warn(\"Silakan pilih file gambar.\");\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div className=\"loading-container\">Memuat data artikel...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"add-edit-artikel-page\">\r\n      <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      <header className=\"page-header\">\r\n        <h1>Edit Artikel</h1>\r\n        <Link to=\"/admin/articles\" className=\"btn-back\">\r\n          <i className=\"bi bi-arrow-left\"></i> Kembali\r\n        </Link>\r\n      </header>\r\n\r\n      <form onSubmit={handleSubmit} className=\"form-widget-artikel\">\r\n        <div className=\"form-main-column\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"judul\">Judul Artikel</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"judul\"\r\n              name=\"judul\"\r\n              value={formData.judul}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Konten Artikel</label>\r\n            <TipTapEditor\r\n              content={formData.konten}\r\n              onContentChange={handleKontenChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-sidebar-column\">\r\n          <div className=\"widget-card-artikel-settings\">\r\n            <h3>Pengaturan Publikasi</h3>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"status\">Status</label>\r\n              <select\r\n                id=\"status\"\r\n                name=\"status\"\r\n                value={formData.status}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"Draft\">Simpan sebagai Draft</option>\r\n                <option value=\"Published\">Publikasikan</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"kategori\">Kategori</label>\r\n              <select\r\n                id=\"kategori\"\r\n                name=\"kategori\"\r\n                value={formData.kategori}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"Tips & Trik\">Tips & Trik</option>\r\n                <option value=\"Destinasi\">Destinasi</option>\r\n                <option value=\"Review\">Review Peralatan</option>\r\n                <option value=\"Edukasi\">Edukasi</option>\r\n                <option value=\"Berita\">Berita Gunung</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"form-actions\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn-save-artikel\"\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? \"Menyimpan...\" : \"Perbarui Artikel\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"widget-card-artikel-settings\">\r\n            <h3>Foto Utama</h3>\r\n            <div className=\"form-group\">\r\n              <div\r\n                className=\"foto-upload-container-artikel\"\r\n                onClick={() => document.getElementById(\"fotoUtama\").click()}\r\n              >\r\n                {fotoPreview ? (\r\n                  <img\r\n                    src={fotoPreview}\r\n                    alt=\"Preview\"\r\n                    className=\"foto-preview-artikel\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"foto-placeholder-artikel\">\r\n                    <i className=\"bi bi-image-fill\"></i>\r\n                    <p>Klik untuk memilih foto</p>\r\n                    <span>Rekomendasi 1200x800px</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <input\r\n                type=\"file\"\r\n                id=\"fotoUtama\"\r\n                name=\"fotoUtama\"\r\n                onChange={handleFotoChange}\r\n                accept=\"image/png, image/jpeg, image/webp\"\r\n                style={{ display: \"none\" }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditArtikel;\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Link from \"@tiptap/extension-link\";\r\nimport Swal from \"sweetalert2\"; // --- 1. IMPORT SWEETALERT2 ---\r\nimport withReactContent from \"sweetalert2-react-content\"; // Opsional, untuk integrasi lebih dalam dengan React\r\nimport \"./TipTapEditor.css\";\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\n// Komponen untuk Toolbar/MenuBar\r\nconst MenuBar = ({ editor }) => {\r\n  // --- 2. MODIFIKASI FUNGSI SETLINK ---\r\n  const setLink = useCallback(() => {\r\n    if (!editor) {\r\n      return;\r\n    }\r\n    const previousUrl = editor.getAttributes(\"link\").href;\r\n\r\n    // Tampilkan modal SweetAlert2 untuk meminta URL\r\n    MySwal.fire({\r\n      title: \"Masukkan URL\",\r\n      input: \"url\",\r\n      inputLabel: \"Alamat URL\",\r\n      inputValue: previousUrl,\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Set Link\",\r\n      cancelButtonText: \"Batal\",\r\n      confirmButtonColor: \"#27ae60\",\r\n      inputValidator: (value) => {\r\n        if (!value) {\r\n          return \"Anda perlu memasukkan URL!\";\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      // Jika pengguna menekan \"Set Link\" dan memasukkan URL\r\n      if (result.isConfirmed && result.value) {\r\n        editor\r\n          .chain()\r\n          .focus()\r\n          .extendMarkRange(\"link\")\r\n          .setLink({ href: result.value })\r\n          .run();\r\n      }\r\n    });\r\n  }, [editor]);\r\n\r\n  if (!editor) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"tiptap-menubar\">\r\n      {/* Tombol-tombol toolbar tetap sama */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().toggleBold().run()}\r\n        className={editor.isActive(\"bold\") ? \"is-active\" : \"\"}\r\n      >\r\n        Bold\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().toggleItalic().run()}\r\n        className={editor.isActive(\"italic\") ? \"is-active\" : \"\"}\r\n      >\r\n        Italic\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().toggleStrike().run()}\r\n        className={editor.isActive(\"strike\") ? \"is-active\" : \"\"}\r\n      >\r\n        Strike\r\n      </button>\r\n\r\n      {/* Tombol Set Link sekarang memanggil SweetAlert2 */}\r\n      <button\r\n        type=\"button\"\r\n        onClick={setLink}\r\n        className={editor.isActive(\"link\") ? \"is-active\" : \"\"}\r\n      >\r\n        Set Link\r\n      </button>\r\n\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().unsetLink().run()}\r\n        disabled={!editor.isActive(\"link\")}\r\n      >\r\n        Unset Link\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().setParagraph().run()}\r\n        className={editor.isActive(\"paragraph\") ? \"is-active\" : \"\"}\r\n      >\r\n        Paragraph\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}\r\n        className={editor.isActive(\"heading\", { level: 1 }) ? \"is-active\" : \"\"}\r\n      >\r\n        H1\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\r\n        className={editor.isActive(\"heading\", { level: 2 }) ? \"is-active\" : \"\"}\r\n      >\r\n        H2\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().toggleBulletList().run()}\r\n        className={editor.isActive(\"bulletList\") ? \"is-active\" : \"\"}\r\n      >\r\n        Bullet List\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => editor.chain().focus().toggleOrderedList().run()}\r\n        className={editor.isActive(\"orderedList\") ? \"is-active\" : \"\"}\r\n      >\r\n        Ordered List\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Komponen Utama Editor\r\nconst TipTapEditor = ({ content, onContentChange }) => {\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Link.configure({\r\n        autolink: true,\r\n        openOnClick: false,\r\n        linkOnPaste: true,\r\n      }),\r\n    ],\r\n    content: content,\r\n    onUpdate: ({ editor }) => {\r\n      onContentChange(editor.getHTML());\r\n    },\r\n    editorProps: {\r\n      attributes: {\r\n        class: \"tiptap-prose\",\r\n      },\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (editor && content !== editor.getHTML()) {\r\n      editor.commands.setContent(content, false);\r\n    }\r\n  }, [content, editor]);\r\n\r\n  return (\r\n    <div className=\"tiptap-container\">\r\n      <MenuBar editor={editor} />\r\n      <EditorContent editor={editor} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TipTapEditor;\r\n"],"names":["API_BASE_URL","navigate","useNavigate","id_artikel","useParams","formData","setFormData","useState","judul","kategori","status","konten","fotoFile","setFotoFile","fotoPreview","setFotoPreview","isLoading","setIsLoading","useEffect","async","token","localStorage","getItem","toast","error","response","fetch","concat","headers","Authorization","ok","Error","data","json","isi_artikel","url_gambar_utama","message","fetchArtikelById","handleChange","e","name","value","target","prevState","_objectSpread","_jsx","className","children","_jsxs","ToastContainer","position","autoClose","Link","to","onSubmit","preventDefault","dataToSubmit","FormData","append","method","body","result","success","setTimeout","err","warn","htmlFor","type","id","onChange","required","TipTapEditor","content","onContentChange","newContent","disabled","onClick","document","getElementById","click","src","alt","file","files","startsWith","URL","createObjectURL","accept","style","display","MySwal","withReactContent","Swal","MenuBar","_ref","editor","setLink","useCallback","previousUrl","getAttributes","href","fire","title","input","inputLabel","inputValue","showCancelButton","confirmButtonText","cancelButtonText","confirmButtonColor","inputValidator","then","isConfirmed","chain","focus","extendMarkRange","run","toggleBold","isActive","toggleItalic","toggleStrike","unsetLink","setParagraph","toggleHeading","level","toggleBulletList","toggleOrderedList","_ref2","useEditor","extensions","StarterKit","configure","autolink","openOnClick","linkOnPaste","onUpdate","_ref3","getHTML","editorProps","attributes","class","commands","setContent","EditorContent"],"sourceRoot":""}