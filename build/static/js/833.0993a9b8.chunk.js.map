{"version":3,"file":"static/js/833.0993a9b8.chunk.js","mappings":"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","sources":["pages/public/Artikel/HalamanSemuaArtikel.js","utils/sanitizeHtml.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./HalamanSemuaArtikel.css\";\r\nimport sanitizeHtml from \"../../../utils/sanitizeHtml\";\r\n\r\nfunction HalamanSemuaArtikel() {\r\n  const [artikel, setArtikel] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchSemuaArtikel = async () => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      try {\r\n        const response = await fetch(\r\n          \"http://localhost:5000/api/public/artikel\"\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Gagal mengambil data artikel dari server.\");\r\n        }\r\n        const data = await response.json();\r\n        setArtikel(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchSemuaArtikel();\r\n  }, []);\r\n\r\n  const formatDisplayDate = (isoDateString) => {\r\n    if (!isoDateString) return \"\";\r\n    const date = new Date(isoDateString);\r\n    return date.toLocaleDateString(\"id-ID\", {\r\n      day: \"numeric\",\r\n      month: \"long\",\r\n      year: \"numeric\",\r\n    });\r\n  };\r\n\r\n  const renderContent = () => {\r\n    if (isLoading)\r\n      return (\r\n        <div className=\"artikel-status-message\">Memuat semua artikel...</div>\r\n      );\r\n    if (error)\r\n      return <div className=\"artikel-status-message error\">Error: {error}</div>;\r\n    if (artikel.length === 0)\r\n      return (\r\n        <div className=\"artikel-status-message\">\r\n          Saat ini tidak ada artikel yang tersedia.\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <div className=\"artikel-list-container\">\r\n        {artikel.map((item) => (\r\n          <div key={item.id_artikel} className=\"artikel-list-item\">\r\n            <div className=\"artikel-list-item-gambar-container\">\r\n              <Link to={`/artikel/${item.slug}`}>\r\n                <img\r\n                  src={\r\n                    item.url_gambar_utama\r\n                      ? `http://localhost:5000${item.url_gambar_utama}`\r\n                      : \"https://placehold.co/400x300/2c3e50/ecf0f1?text=Mountify\"\r\n                  }\r\n                  alt={item.judul}\r\n                  className=\"artikel-list-item-gambar\"\r\n                />\r\n              </Link>\r\n            </div>\r\n            <div className=\"artikel-list-item-konten\">\r\n              <span className=\"artikel-list-item-kategori\">\r\n                {item.kategori}\r\n              </span>\r\n              <h2 className=\"artikel-list-item-judul\">\r\n                <Link to={`/artikel/${item.slug}`}>{item.judul}</Link>\r\n              </h2>\r\n              <div\r\n                className=\"artikel-list-item-ringkasan\"\r\n                dangerouslySetInnerHTML={{\r\n                  __html: sanitizeHtml(item.ringkasan),\r\n                }}\r\n              />\r\n              <div className=\"artikel-list-item-meta\">\r\n                <span>\r\n                  <i className=\"bi bi-person-fill\"></i> {item.penulis}\r\n                </span>\r\n                <span>\r\n                  <i className=\"bi bi-calendar-event\"></i>{\" \"}\r\n                  {formatDisplayDate(item.tanggal_publikasi)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"artikel-page-container\">\r\n      <div className=\"page-header\">\r\n        <h1>\r\n          <i className=\"bi bi-journal-text\"></i> Artikel & Informasi\r\n        </h1>\r\n        <p className=\"page-subtitle\">\r\n          Jelajahi semua wawasan, tips, dan panduan mendaki dari para ahli kami.\r\n        </p>\r\n      </div>\r\n      {renderContent()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HalamanSemuaArtikel;\r\n","// src/utils/sanitizeHtml.js\r\nimport DOMPurify from \"dompurify\";\r\n\r\nexport default function sanitizeHtml(dirty) {\r\n  return DOMPurify.sanitize(dirty, {\r\n    ALLOWED_TAGS: [\r\n      \"b\",\r\n      \"i\",\r\n      \"em\",\r\n      \"strong\",\r\n      \"p\",\r\n      \"ul\",\r\n      \"ol\",\r\n      \"li\",\r\n      \"br\",\r\n      \"h1\",\r\n      \"h2\",\r\n      \"h3\",\r\n      \"h4\",\r\n      \"h5\",\r\n      \"h6\",\r\n      \"blockquote\",\r\n      \"pre\",\r\n      \"code\",\r\n      \"hr\",\r\n      \"a\", // izinkan tag a\r\n    ],\r\n    ALLOWED_ATTR: [\"alt\", \"title\", \"href\", \"target\", \"rel\"], // izinkan atribut penting untuk <a>\r\n    ALLOWED_URI_REGEXP: /^https?:\\/\\/[^\\s<>\"]+$/,\r\n    FORBID_ATTR: [\"style\", \"class\", \"id\", \"onclick\", \"onerror\"],\r\n    FORBID_TAGS: [\r\n      \"script\",\r\n      \"object\",\r\n      \"embed\",\r\n      \"iframe\",\r\n      \"form\",\r\n      \"input\",\r\n      \"img\",\r\n      // \"a\", // jangan blokir tag a\r\n    ],\r\n    KEEP_CONTENT: false,\r\n    ALLOW_DATA_ATTR: false,\r\n  });\r\n}\r\n"],"names":["artikel","setArtikel","useState","isLoading","setIsLoading","error","setError","useEffect","async","response","fetch","ok","Error","data","json","err","message","fetchSemuaArtikel","formatDisplayDate","isoDateString","Date","toLocaleDateString","day","month","year","_jsxs","className","children","_jsx","length","map","item","Link","to","concat","slug","src","url_gambar_utama","alt","judul","kategori","dangerouslySetInnerHTML","__html","sanitizeHtml","ringkasan","penulis","tanggal_publikasi","id_artikel","dirty","DOMPurify","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","ALLOWED_URI_REGEXP","FORBID_ATTR","FORBID_TAGS","KEEP_CONTENT","ALLOW_DATA_ATTR"],"sourceRoot":""}