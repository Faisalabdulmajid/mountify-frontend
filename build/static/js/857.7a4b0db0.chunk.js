"use strict";(self.webpackChunkspk_gunung=self.webpackChunkspk_gunung||[]).push([[857],{3857:(a,e,s)=>{s.r(e),s.d(e,{default:()=>t});var i=s(2555),n=s(5043),c=s(579);const l={lokasi:{desa:"Cipanas",kecamatan:"Cianjur",kabupaten:"Cianjur",provinsi:"Jawa Barat"},prakiraanHarian:[{local_datetime:"202412290600",weather_desc:"Cerah Berawan",t:18,hu:85,ws:5,wd:"Timur Laut",image:"https://cdn-icons-png.flaticon.com/64/1163/1163661.png"},{local_datetime:"202412290900",weather_desc:"Berawan",t:22,hu:80,ws:7,wd:"Timur",image:"https://cdn-icons-png.flaticon.com/64/414/414927.png"},{local_datetime:"202412291200",weather_desc:"Berawan Tebal",t:25,hu:75,ws:8,wd:"Tenggara",image:"https://cdn-icons-png.flaticon.com/64/414/414825.png"},{local_datetime:"202412291500",weather_desc:"Hujan Ringan",t:23,hu:90,ws:6,wd:"Selatan",image:"https://cdn-icons-png.flaticon.com/64/3351/3351979.png"},{local_datetime:"202412291800",weather_desc:"Cerah Berawan",t:20,hu:88,ws:4,wd:"Barat Daya",image:"https://cdn-icons-png.flaticon.com/64/1163/1163661.png"}]},r=[{id:1,name:"Gunung Gede",location:"Jawa Barat",kodeWilayah:"501211",mockData:(0,i.A)((0,i.A)({},l),{},{lokasi:(0,i.A)((0,i.A)({},l.lokasi),{},{desa:"Cipanas"})})},{id:2,name:"Gunung Bromo",location:"Jawa Timur",kodeWilayah:"501330",mockData:(0,i.A)((0,i.A)({},l),{},{lokasi:(0,i.A)((0,i.A)({},l.lokasi),{},{desa:"Sukapura",kecamatan:"Probolinggo",provinsi:"Jawa Timur"}),prakiraanHarian:l.prakiraanHarian.map(a=>(0,i.A)((0,i.A)({},a),{},{t:a.t-3,hu:a.hu-5}))})},{id:3,name:"Gunung Rinjani",location:"NTB",kodeWilayah:"501062",mockData:(0,i.A)((0,i.A)({},l),{},{lokasi:(0,i.A)((0,i.A)({},l.lokasi),{},{desa:"Sembalun",kecamatan:"Lombok Timur",provinsi:"NTB"}),prakiraanHarian:l.prakiraanHarian.map(a=>(0,i.A)((0,i.A)({},a),{},{t:a.t-2,hu:a.hu-10,ws:a.ws+3}))})},{id:4,name:"Gunung Semeru",location:"Jawa Timur",kodeWilayah:"501326",mockData:(0,i.A)((0,i.A)({},l),{},{lokasi:(0,i.A)((0,i.A)({},l.lokasi),{},{desa:"Pasrujambe",kecamatan:"Lumajang",provinsi:"Jawa Timur"}),prakiraanHarian:l.prakiraanHarian.map(a=>(0,i.A)((0,i.A)({},a),{},{t:a.t-4,ws:a.ws+2,hu:a.hu-15}))})}];const t=function(){const[a,e]=(0,n.useState)(""),[s,i]=(0,n.useState)(null),[l,t]=(0,n.useState)(!1),[d,o]=(0,n.useState)(null),[h,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{r.length>0&&e(r[0].id.toString())},[]),(0,n.useEffect)(()=>{if(!a)return;(async()=>{const e=r.find(e=>e.id.toString()===a);if(e){t(!0),o(null),i(null);try{if(h){var s,n,c;const a="https://api.bmkg.go.id/publik/prakiraan-cuaca?adm4=".concat(e.kodeWilayah),l=await fetch(a,{mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!l.ok)throw new Error("API Error: ".concat(l.status));const r=await l.json();console.log("Data dari BMKG:",r);const t={lokasi:r.lokasi||e.mockData.lokasi,prakiraanHarian:(null===(s=r.data)||void 0===s||null===(n=s[0])||void 0===n||null===(c=n.cuaca)||void 0===c?void 0:c[0])||e.mockData.prakiraanHarian};i(t)}else await new Promise(a=>setTimeout(a,1500)),i(e.mockData)}catch(l){console.error("Weather API Error:",l),console.log("Menggunakan data simulasi karena API tidak tersedia"),o("Menggunakan data simulasi karena API BMKG tidak dapat diakses langsung dari browser. Ini normal untuk development."),i(e.mockData)}finally{t(!1)}}})()},[a,h]);const u=a=>{if(!a||a.length<4)return a;const e=a.slice(-4);return"".concat(e.slice(0,2),":").concat(e.slice(2))},p=r.find(e=>e.id.toString()===a);return(0,c.jsxs)("div",{className:"weather-page-container",children:[(0,c.jsxs)("div",{className:"weather-page-header",children:[(0,c.jsxs)("h1",{children:[(0,c.jsx)("i",{className:"bi bi-thermometer-sun"})," Data Cuaca Gunung"]}),(0,c.jsx)("p",{children:"Informasi cuaca terkini untuk pendakian gunung di Indonesia"}),(0,c.jsxs)("div",{className:"date-info",children:[(0,c.jsx)("i",{className:"bi bi-calendar-event"})," ",(new Date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),(0,c.jsxs)("div",{className:"mountain-selector-container",children:[(0,c.jsx)("label",{htmlFor:"gunung-select",children:"Pilih Gunung:"}),(0,c.jsxs)("select",{id:"gunung-select",value:a,onChange:a=>{e(a.target.value)},className:"mountain-select",children:[(0,c.jsx)("option",{value:"",children:"-- Pilih Gunung --"}),r.map(a=>(0,c.jsxs)("option",{value:a.id,children:[a.name," (",a.location,")"]},a.id))]})]}),(0,c.jsx)("div",{className:"api-toggle-container",children:(0,c.jsxs)("label",{className:"api-toggle",children:[(0,c.jsx)("input",{type:"checkbox",checked:h,onChange:a=>m(a.target.checked)}),(0,c.jsx)("span",{children:"Coba gunakan API BMKG asli (mungkin gagal karena CORS)"})]})}),!a&&(0,c.jsxs)("div",{className:"select-prompt",children:[(0,c.jsx)("i",{className:"bi bi-arrow-up"}),(0,c.jsx)("p",{children:"Silakan pilih gunung untuk melihat data cuaca"})]}),l&&(0,c.jsxs)("div",{className:"loading-message",children:[(0,c.jsx)("div",{className:"spinner"}),(0,c.jsx)("p",{children:"Mengambil data cuaca..."})]}),d&&(0,c.jsxs)("div",{className:"error-message",children:[(0,c.jsx)("i",{className:"bi bi-info-circle"}),(0,c.jsx)("p",{children:d})]}),s&&!l&&p&&(0,c.jsxs)("div",{className:"weather-info-container",children:[(0,c.jsxs)("div",{className:"location-header",children:[(0,c.jsxs)("h2",{children:[(0,c.jsx)("i",{className:"bi bi-geo-alt-fill"}),p.name]}),(0,c.jsxs)("p",{className:"location-details",children:[s.lokasi.desa,", ",s.lokasi.kecamatan,","," ",s.lokasi.provinsi]})]}),(a=>{if(!a||0===a.length)return null;const e=a[0];return(0,c.jsxs)("div",{className:"current-weather-card",children:[(0,c.jsx)("div",{className:"weather-icon-big",children:(0,c.jsx)("img",{src:e.image,alt:e.weather_desc,onError:a=>{a.target.src="https://cdn-icons-png.flaticon.com/64/1163/1163661.png"}})}),(0,c.jsxs)("div",{className:"weather-details",children:[(0,c.jsx)("p",{className:"weather-summary",children:e.weather_desc}),(0,c.jsxs)("p",{className:"weather-temperature",children:[e.t,"\xb0C"]}),(0,c.jsxs)("div",{className:"weather-extra-info",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)("i",{className:"bi bi-droplet-fill"})," Kelembapan:"," ",e.hu,"%"]}),(0,c.jsxs)("span",{children:[(0,c.jsx)("i",{className:"bi bi-wind"})," Angin: ",e.ws," km/j dari"," ",e.wd]})]})]})]})})(s.prakiraanHarian),(0,c.jsxs)("h3",{children:[(0,c.jsx)("i",{className:"bi bi-clock-history"}),"Prakiraan Cuaca Hari Ini"]}),(0,c.jsx)("div",{className:"table-container",children:(0,c.jsxs)("table",{className:"forecast-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsxs)("th",{children:[(0,c.jsx)("i",{className:"bi bi-clock"})," Waktu"]}),(0,c.jsxs)("th",{children:[(0,c.jsx)("i",{className:"bi bi-cloud-sun"})," Cuaca"]}),(0,c.jsxs)("th",{children:[(0,c.jsx)("i",{className:"bi bi-thermometer"})," Suhu"]}),(0,c.jsxs)("th",{children:[(0,c.jsx)("i",{className:"bi bi-droplet"})," Kelembapan"]}),(0,c.jsxs)("th",{children:[(0,c.jsx)("i",{className:"bi bi-wind"})," Angin"]})]})}),(0,c.jsx)("tbody",{children:s.prakiraanHarian.map((a,e)=>(0,c.jsxs)("tr",{className:0===e?"current-time":"",children:[(0,c.jsx)("td",{className:"time-cell",children:u(a.local_datetime)}),(0,c.jsxs)("td",{className:"weather-cell",children:[(0,c.jsx)("img",{src:a.image,alt:a.weather_desc,className:"weather-icon-small",onError:a=>{a.target.src="https://cdn-icons-png.flaticon.com/64/1163/1163661.png"}}),(0,c.jsx)("span",{children:a.weather_desc})]}),(0,c.jsxs)("td",{className:"temp-cell",children:[a.t,"\xb0C"]}),(0,c.jsxs)("td",{className:"humidity-cell",children:[a.hu,"%"]}),(0,c.jsxs)("td",{className:"wind-cell",children:[a.ws," km/j",(0,c.jsx)("br",{}),(0,c.jsxs)("small",{children:["(",a.wd,")"]})]})]},e))})]})}),(0,c.jsxs)("div",{className:"weather-tips",children:[(0,c.jsxs)("h4",{children:[(0,c.jsx)("i",{className:"bi bi-lightbulb"}),"Tips Cuaca untuk Pendakian"]}),(0,c.jsxs)("div",{className:"tips-grid",children:[(0,c.jsxs)("div",{className:"tip-card",children:[(0,c.jsx)("i",{className:"bi bi-thermometer-low"}),(0,c.jsx)("p",{children:"Suhu di gunung bisa turun drastis, bawa pakaian hangat"})]}),(0,c.jsxs)("div",{className:"tip-card",children:[(0,c.jsx)("i",{className:"bi bi-cloud-drizzle"}),(0,c.jsx)("p",{children:"Perhatikan prakiraan hujan, bawa jas hujan dan perlengkapan waterproof"})]}),(0,c.jsxs)("div",{className:"tip-card",children:[(0,c.jsx)("i",{className:"bi bi-wind"}),(0,c.jsx)("p",{children:"Angin kencang dapat mempengaruhi visibilitas dan kenyamanan"})]}),(0,c.jsxs)("div",{className:"tip-card",children:[(0,c.jsx)("i",{className:"bi bi-droplet-half"}),(0,c.jsx)("p",{children:"Kelembapan tinggi dapat mempercepat dehidrasi, bawa air yang cukup"})]})]})]})]})]})}}}]);
//# sourceMappingURL=857.7a4b0db0.chunk.js.map