{"version":3,"file":"static/js/932.afdbaa6d.chunk.js","mappings":"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","sources":["pages/admin/jalur/components/PageHeaderBack.js","pages/admin/jalur/EditJalur.js"],"sourcesContent":["// src/pages/admin/jalur/components/PageHeaderBack.js\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PageHeaderBack = ({ title, backText, backLink }) => {\r\n  return (\r\n    <header className=\"page-header\">\r\n      <h1>{title}</h1>\r\n      <Link to={backLink} className=\"btn-back\">\r\n        <i className=\"bi bi-arrow-left\"></i> {backText}\r\n      </Link>\r\n    </header>\r\n  );\r\n};\r\nexport default PageHeaderBack;\r\n","// src/pages/admin/jalur/EditJalur.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./TambahJalur.css\";\r\nimport PageHeaderBack from \"./components/PageHeaderBack\";\r\n\r\nconst API_BASE_URL = \"http://localhost:5000\";\r\n\r\n// Konstanta enum status jalur - harus sama dengan backend\r\nconst TRAIL_STATUS_OPTIONS = [\r\n  \"Belum Diketahui\",\r\n  \"Buka\",\r\n  \"Tutup Sementara\",\r\n  \"Tutup\",\r\n];\r\n\r\n// scoreMappings sesuai standar fuzzy engine dari laporan detail\r\nconst scoreMappings = {\r\n  // 1. Tingkat Kesulitan & Durasi\r\n  medan: {\r\n    \"Belum Diketahui\": null,\r\n    \"Sangat Mudah (0-2): Jalur landai, setapak jelas\": 1,\r\n    \"Mudah (3-4): Tanjakan sedang, bebatuan kecil\": 3,\r\n    \"Sedang (5-6): Tanjakan panjang, butuh bantuan tangan\": 5,\r\n    \"Sulit (7-8): Sangat curam >45°, scrambling\": 7,\r\n    \"Sangat Sulit (9-10): Mendekati vertikal, butuh keahlian panjat\": 9,\r\n  },\r\n\r\n  // 2. Keamanan & Risiko\r\n  navigasi: {\r\n    \"Belum Diketahui\": null,\r\n    \"Aman (7-10): Jalur jelas, terawat, jauh dari risiko\": 9,\r\n    \"Cukup Aman (4-6): Beberapa titik waspada, jalur aman\": 6,\r\n    \"Berbahaya (0-3): Riwayat longsor, kawah aktif, jurang tanpa pengaman\": 2,\r\n  },\r\n  risiko_tambahan: {\r\n    \"Belum Diketahui\": null,\r\n    \"Rendah/Jarang (8-10): <5 insiden SAR per tahun\": 9,\r\n    \"Sedang (4-7): 5-10 insiden per tahun\": 6,\r\n    \"Tinggi/Sering (0-3): >10 insiden SAR per tahun\": 2,\r\n  },\r\n\r\n  // 3. Kenyamanan & Logistik - Fasilitas\r\n  basecamp: {\r\n    \"Belum Diketahui\": null,\r\n    \"Sangat Lengkap (9-10): Fasilitas modern, penginapan, persewaan alat\": 9,\r\n    \"Lengkap (6-8): Basecamp terorganisir, pusat info, mushola, warung\": 7,\r\n    \"Cukup (3-5): Basecamp sederhana, toilet umum, warung kecil\": 5,\r\n    \"Sangat Minim (0-2): Tidak ada basecamp resmi, pendaftaran di rumah warga\": 1,\r\n  },\r\n  sumber_air: {\r\n    \"Belum Diketahui\": null,\r\n    \"Melimpah (7-10): >3 sumber air atau 1 sumber sangat melimpah setiap pos\": 9,\r\n    \"Terbatas (3-6): 1-3 titik sumber air, mungkin musiman\": 5,\r\n    \"Langka/Tidak Ada (0-2): Harus bawa seluruh pasokan air dari basecamp\": 1,\r\n  },\r\n\r\n  // 4. Kenyamanan & Logistik - Area Kemah\r\n  lahan_kemah: {\r\n    \"Belum Diketahui\": null,\r\n    \"Baik (7-10): Lahan luas, datar, bersih, sumber air dekat <5 menit\": 9,\r\n    \"Cukup (4-6): Lahan untuk 5-10 tenda, sumber air <30 menit\": 6,\r\n    \"Buruk (0-3): Lahan miring, berbatu, sempit, sumber air >1 jam\": 2,\r\n  },\r\n  perlindungan_kemah: {\r\n    \"Belum Diketahui\": null,\r\n    \"Terlindungi (7-10): Dalam hutan lebat atau lembah dalam\": 9,\r\n    \"Cukup Terlindungi (4-6): Lembah kecil atau di antara pepohonan\": 6,\r\n    \"Sangat Terekspos (0-3): Punggungan terbuka, puncak, sabana tanpa penghalang\": 2,\r\n  },\r\n\r\n  // 5. Kualitas Pengalaman & Lingkungan\r\n  lanskap: {\r\n    \"Belum Diketahui\": null,\r\n    \"Sangat Bervariasi (7-10): >3 ekosistem berbeda\": 9,\r\n    \"Cukup Bervariasi (4-6): 2-3 transisi ekosistem\": 6,\r\n    \"Monoton (0-3): Satu jenis ekosistem dari awal hingga akhir\": 2,\r\n  },\r\n  viewpoint: {\r\n    \"Belum Diketahui\": null,\r\n    \"Istimewa/Ikonik (9-10): Panoramik 360°, fitur ikonik terkenal\": 9,\r\n    \"Sangat Indah/Panoramik (7-8): Sebagian besar jalur terbuka\": 7,\r\n    \"Indah/Terbuka Sebagian (4-6): Beberapa titik dengan pemandangan bagus\": 5,\r\n    \"Biasa/Terbatas (0-3): Hutan rapat, pemandangan hanya di puncak\": 2,\r\n  },\r\n\r\n  // 6. Logistik & Risiko Tambahan\r\n  jaringan_komunikasi: {\r\n    \"Belum Diketahui\": null,\r\n    \"Baik (7-10): Sinyal tersedia di sebagian besar jalur\": 9,\r\n    \"Terbatas (3-6): Sinyal hanya di titik tertentu\": 5,\r\n    \"Tidak Ada (0-2): Tidak ada sinyal setelah meninggalkan basecamp\": 1,\r\n  },\r\n};\r\n\r\nconst findClosestKey = (mapping, score) => {\r\n  if (score === 0 || score === null || score === undefined)\r\n    return \"Belum Diketahui\";\r\n  return Object.keys(mapping).reduce((prev, curr) => {\r\n    if (mapping[curr] === null) return prev;\r\n    if (mapping[prev] === null) return curr;\r\n    return Math.abs(mapping[curr] - score) < Math.abs(mapping[prev] - score)\r\n      ? curr\r\n      : prev;\r\n  });\r\n};\r\n\r\nfunction EditJalur() {\r\n  const navigate = useNavigate();\r\n  const { id_jalur } = useParams();\r\n  const [gunungList, setGunungList] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Tambahkan field fuzzy engine pada state generalData\r\n  const [generalData, setGeneralData] = useState({\r\n    id_gunung: \"\",\r\n    nama_jalur: \"\",\r\n    lokasi_pintu_masuk: \"\",\r\n    estimasi_waktu_jam: \"\",\r\n    deskripsi_jalur: \"\",\r\n    status_jalur: \"Belum Diketahui\",\r\n    ketersediaan_sumber_air_skala: \"\",\r\n    variasi_lanskap_skala: \"\",\r\n    perlindungan_angin_kemah_skala: \"\",\r\n    jaringan_komunikasi_skala: \"\",\r\n    tingkat_insiden_skala: \"\",\r\n  });\r\n\r\n  const [descriptiveScores, setDescriptiveScores] = useState({\r\n    medan: \"Belum Diketahui\",\r\n    navigasi: \"Belum Diketahui\",\r\n    risiko_tambahan: \"Belum Diketahui\",\r\n    basecamp: \"Belum Diketahui\",\r\n    sumber_air: \"Belum Diketahui\",\r\n    lahan_kemah: \"Belum Diketahui\",\r\n    perlindungan_kemah: \"Belum Diketahui\",\r\n    lanskap: \"Belum Diketahui\",\r\n    viewpoint: \"Belum Diketahui\",\r\n    jaringan_komunikasi: \"Belum Diketahui\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const [gunungResponse, jalurResponse] = await Promise.all([\r\n          fetch(`${API_BASE_URL}/api/gunung`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n          fetch(`${API_BASE_URL}/api/admin/jalur/${id_jalur}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }),\r\n        ]);\r\n\r\n        if (!gunungResponse.ok) throw new Error(\"Gagal memuat daftar gunung.\");\r\n        if (!jalurResponse.ok) throw new Error(\"Gagal memuat data jalur.\");\r\n\r\n        const gunungData = await gunungResponse.json();\r\n        const jalurData = await jalurResponse.json();\r\n\r\n        setGunungList(gunungData);\r\n        setGeneralData({\r\n          id_gunung: jalurData.id_gunung,\r\n          nama_jalur: jalurData.nama_jalur,\r\n          lokasi_pintu_masuk: jalurData.lokasi_pintu_masuk || \"\",\r\n          estimasi_waktu_jam: jalurData.estimasi_waktu_jam,\r\n          deskripsi_jalur: jalurData.deskripsi_jalur || \"\",\r\n          status_jalur: jalurData.status_jalur || \"Belum Diketahui\",\r\n          ketersediaan_sumber_air_skala:\r\n            jalurData.ketersediaan_sumber_air_skala || \"\",\r\n          variasi_lanskap_skala: jalurData.variasi_lanskap_skala || \"\",\r\n          perlindungan_angin_kemah_skala:\r\n            jalurData.perlindungan_angin_kemah_skala || \"\",\r\n          jaringan_komunikasi_skala: jalurData.jaringan_komunikasi_skala || \"\",\r\n          tingkat_insiden_skala: jalurData.tingkat_insiden_skala || \"\",\r\n        });\r\n\r\n        setDescriptiveScores({\r\n          medan: findClosestKey(scoreMappings.medan, jalurData.kesulitan_skala),\r\n          navigasi: findClosestKey(\r\n            scoreMappings.navigasi,\r\n            jalurData.keamanan_skala\r\n          ),\r\n          risiko_tambahan: findClosestKey(\r\n            scoreMappings.risiko_tambahan,\r\n            jalurData.keamanan_skala\r\n          ),\r\n          basecamp: findClosestKey(\r\n            scoreMappings.basecamp,\r\n            jalurData.kualitas_fasilitas_skala\r\n          ),\r\n          sumber_air: findClosestKey(\r\n            scoreMappings.sumber_air,\r\n            jalurData.kualitas_fasilitas_skala\r\n          ),\r\n          lahan_kemah: findClosestKey(\r\n            scoreMappings.lahan_kemah,\r\n            jalurData.kualitas_kemah_skala\r\n          ),\r\n          perlindungan_kemah: findClosestKey(\r\n            scoreMappings.perlindungan_kemah,\r\n            jalurData.kualitas_kemah_skala\r\n          ),\r\n          lanskap: findClosestKey(\r\n            scoreMappings.lanskap,\r\n            jalurData.keindahan_pemandangan_skala\r\n          ),\r\n          viewpoint: findClosestKey(\r\n            scoreMappings.viewpoint,\r\n            jalurData.keindahan_pemandangan_skala\r\n          ),\r\n          jaringan_komunikasi: findClosestKey(\r\n            scoreMappings.jaringan_komunikasi,\r\n            jalurData.keamanan_skala\r\n          ),\r\n        });\r\n      } catch (error) {\r\n        toast.error(error.message);\r\n        setTimeout(() => navigate(\"/admin/jalur\"), 2000);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [id_jalur, navigate]);\r\n\r\n  const handleGeneralChange = (e) => {\r\n    setGeneralData((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleDescriptiveChange = (e) => {\r\n    setDescriptiveScores((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n  const calculateFinalScores = () => {\r\n    const calculateAverage = (scoreKeys) => {\r\n      const validScores = scoreKeys\r\n        .map((key) => scoreMappings[key][descriptiveScores[key]])\r\n        .filter((score) => score !== null);\r\n      if (validScores.length === 0) return 0;\r\n      const sum = validScores.reduce((acc, score) => acc + score, 0);\r\n      return Math.round(sum / validScores.length);\r\n    };\r\n    return {\r\n      kesulitan_skala: calculateAverage([\"medan\"]),\r\n      keamanan_skala: calculateAverage([\r\n        \"navigasi\",\r\n        \"risiko_tambahan\",\r\n        \"jaringan_komunikasi\",\r\n      ]),\r\n      kualitas_fasilitas_skala: calculateAverage([\"basecamp\", \"sumber_air\"]),\r\n      kualitas_kemah_skala: calculateAverage([\r\n        \"lahan_kemah\",\r\n        \"perlindungan_kemah\",\r\n      ]),\r\n      keindahan_pemandangan_skala: calculateAverage([\"lanskap\", \"viewpoint\"]),\r\n    };\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    const finalScores = calculateFinalScores();\r\n    const dataToSend = {\r\n      ...generalData,\r\n      ...finalScores,\r\n    };\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await fetch(\r\n        `${API_BASE_URL}/api/admin/jalur/${id_jalur}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(dataToSend),\r\n        }\r\n      );\r\n      const result = await response.json();\r\n      if (!response.ok) throw new Error(result.message);\r\n\r\n      toast.success(\"Data jalur berhasil diperbarui!\");\r\n      setTimeout(() => {\r\n        navigate(\"/admin/jalur\", { replace: true });\r\n        window.location.reload();\r\n      }, 1500);\r\n    } catch (error) {\r\n      toast.error(error.message || \"Terjadi kesalahan saat memperbarui data.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderSelect = (label, name, options) => (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <select\r\n        id={name}\r\n        name={name}\r\n        value={descriptiveScores[name] || \"Belum Diketahui\"}\r\n        onChange={handleDescriptiveChange}\r\n        disabled={isLoading}\r\n      >\r\n        {Object.keys(options).map((option) => (\r\n          <option key={option} value={option}>\r\n            {option}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n\r\n  if (isLoading)\r\n    return <div className=\"loading-container\">Memuat data jalur...</div>;\r\n\r\n  return (\r\n    <div className=\"add-jalur-page\">\r\n      <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      <PageHeaderBack\r\n        title={`Edit Data Jalur: ${generalData.nama_jalur}`}\r\n        backText=\"Kembali\"\r\n        backLink=\"/admin/jalur\"\r\n      />\r\n      <form onSubmit={handleSubmit} className=\"form-widget-jalur\">\r\n        <fieldset className=\"form-fieldset\" disabled={isLoading}>\r\n          <legend>Informasi Dasar</legend>\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"id_gunung\">Pilih Gunung</label>\r\n              <select\r\n                id=\"id_gunung\"\r\n                name=\"id_gunung\"\r\n                value={generalData.id_gunung}\r\n                onChange={handleGeneralChange}\r\n                required\r\n              >\r\n                {gunungList.map((g) => (\r\n                  <option key={g.id_gunung} value={g.id_gunung}>\r\n                    {g.nama_gunung}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"nama_jalur\">Nama Jalur</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"nama_jalur\"\r\n                name=\"nama_jalur\"\r\n                value={generalData.nama_jalur}\r\n                onChange={handleGeneralChange}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Field Pintu Masuk */}\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group full-width\">\r\n              <label htmlFor=\"lokasi_pintu_masuk\">\r\n                Lokasi Pintu Masuk/Gerbang\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"lokasi_pintu_masuk\"\r\n                name=\"lokasi_pintu_masuk\"\r\n                value={generalData.lokasi_pintu_masuk}\r\n                onChange={handleGeneralChange}\r\n                placeholder=\"Contoh: Desa Kertawangi, Pos Jaga Cibodas\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"estimasi_waktu_jam\">Estimasi Waktu (Jam)</label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"estimasi_waktu_jam\"\r\n                name=\"estimasi_waktu_jam\"\r\n                value={generalData.estimasi_waktu_jam}\r\n                onChange={handleGeneralChange}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"status_jalur\">Status Jalur</label>\r\n              <select\r\n                id=\"status_jalur\"\r\n                name=\"status_jalur\"\r\n                value={generalData.status_jalur}\r\n                onChange={handleGeneralChange}\r\n              >\r\n                {TRAIL_STATUS_OPTIONS.map((status) => (\r\n                  <option key={status} value={status}>\r\n                    {status}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </fieldset>\r\n\r\n        {/* Tambahkan input field fuzzy engine pada form (setelah estimasi waktu dan status jalur) */}\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"ketersediaan_sumber_air_skala\">\r\n              Ketersediaan Sumber Air (0-10)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"ketersediaan_sumber_air_skala\"\r\n              name=\"ketersediaan_sumber_air_skala\"\r\n              min={0}\r\n              max={10}\r\n              value={generalData.ketersediaan_sumber_air_skala}\r\n              onChange={handleGeneralChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"variasi_lanskap_skala\">\r\n              Variasi Lanskap (0-10)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"variasi_lanskap_skala\"\r\n              name=\"variasi_lanskap_skala\"\r\n              min={0}\r\n              max={10}\r\n              value={generalData.variasi_lanskap_skala}\r\n              onChange={handleGeneralChange}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"perlindungan_angin_kemah_skala\">\r\n              Perlindungan Angin Kemah (0-10)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"perlindungan_angin_kemah_skala\"\r\n              name=\"perlindungan_angin_kemah_skala\"\r\n              min={0}\r\n              max={10}\r\n              value={generalData.perlindungan_angin_kemah_skala}\r\n              onChange={handleGeneralChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"jaringan_komunikasi_skala\">\r\n              Jaringan Komunikasi (0-10)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"jaringan_komunikasi_skala\"\r\n              name=\"jaringan_komunikasi_skala\"\r\n              min={0}\r\n              max={10}\r\n              value={generalData.jaringan_komunikasi_skala}\r\n              onChange={handleGeneralChange}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"tingkat_insiden_skala\">\r\n              Tingkat Insiden (0-10)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"tingkat_insiden_skala\"\r\n              name=\"tingkat_insiden_skala\"\r\n              min={0}\r\n              max={10}\r\n              value={generalData.tingkat_insiden_skala}\r\n              onChange={handleGeneralChange}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* ... sisa form tidak berubah ... */}\r\n        <fieldset className=\"form-fieldset\" disabled={isLoading}>\r\n          <legend>Parameter Penilaian</legend>\r\n          <div className=\"descriptive-grid\">\r\n            <div className=\"parameter-group\">\r\n              <h4>Tingkat Kesulitan</h4>\r\n              {renderSelect(\"Medan & Tanjakan\", \"medan\", scoreMappings.medan)}\r\n            </div>\r\n            <div className=\"parameter-group\">\r\n              <h4>Tingkat Keamanan</h4>\r\n              {renderSelect(\r\n                \"Navigasi & Petunjuk Arah\",\r\n                \"navigasi\",\r\n                scoreMappings.navigasi\r\n              )}\r\n              {renderSelect(\r\n                \"Tingkat Insiden & Risiko\",\r\n                \"risiko_tambahan\",\r\n                scoreMappings.risiko_tambahan\r\n              )}\r\n              {renderSelect(\r\n                \"Jaringan Komunikasi\",\r\n                \"jaringan_komunikasi\",\r\n                scoreMappings.jaringan_komunikasi\r\n              )}\r\n            </div>\r\n            <div className=\"parameter-group\">\r\n              <h4>Kualitas Fasilitas</h4>\r\n              {renderSelect(\r\n                \"Fasilitas Basecamp\",\r\n                \"basecamp\",\r\n                scoreMappings.basecamp\r\n              )}\r\n              {renderSelect(\r\n                \"Sumber Air di Jalur\",\r\n                \"sumber_air\",\r\n                scoreMappings.sumber_air\r\n              )}\r\n            </div>\r\n            <div className=\"parameter-group\">\r\n              <h4>Kualitas Area Kemah</h4>\r\n              {renderSelect(\r\n                \"Lahan & Kapasitas Kemah\",\r\n                \"lahan_kemah\",\r\n                scoreMappings.lahan_kemah\r\n              )}\r\n              {renderSelect(\r\n                \"Perlindungan dari Angin\",\r\n                \"perlindungan_kemah\",\r\n                scoreMappings.perlindungan_kemah\r\n              )}\r\n            </div>\r\n            <div className=\"parameter-group\">\r\n              <h4>Keindahan Pemandangan</h4>\r\n              {renderSelect(\r\n                \"Variasi Lanskap\",\r\n                \"lanskap\",\r\n                scoreMappings.lanskap\r\n              )}\r\n              {renderSelect(\r\n                \"Spot Pemandangan (Viewpoint)\",\r\n                \"viewpoint\",\r\n                scoreMappings.viewpoint\r\n              )}\r\n            </div>\r\n          </div>\r\n        </fieldset>\r\n        <fieldset className=\"form-fieldset\" disabled={isLoading}>\r\n          <legend>Deskripsi Tambahan</legend>\r\n          <div className=\"form-group full-width\">\r\n            <label htmlFor=\"deskripsi_jalur\">Deskripsi Singkat Jalur</label>\r\n            <textarea\r\n              id=\"deskripsi_jalur\"\r\n              name=\"deskripsi_jalur\"\r\n              rows=\"5\"\r\n              value={generalData.deskripsi_jalur}\r\n              onChange={handleGeneralChange}\r\n            ></textarea>\r\n          </div>\r\n        </fieldset>\r\n        <div className=\"form-actions\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-cancel\"\r\n            onClick={() => navigate(\"/admin/jalur\")}\r\n            disabled={isLoading}\r\n          >\r\n            Batal\r\n          </button>\r\n          <button type=\"submit\" className=\"btn-save\" disabled={isLoading}>\r\n            {isLoading ? \"Menyimpan...\" : \"Simpan Perubahan\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditJalur;\r\n"],"names":["_ref","title","backText","backLink","_jsxs","className","children","_jsx","Link","to","API_BASE_URL","TRAIL_STATUS_OPTIONS","scoreMappings","medan","navigasi","risiko_tambahan","basecamp","sumber_air","lahan_kemah","perlindungan_kemah","lanskap","viewpoint","jaringan_komunikasi","findClosestKey","mapping","score","undefined","Object","keys","reduce","prev","curr","Math","abs","navigate","useNavigate","id_jalur","useParams","gunungList","setGunungList","useState","isLoading","setIsLoading","generalData","setGeneralData","id_gunung","nama_jalur","lokasi_pintu_masuk","estimasi_waktu_jam","deskripsi_jalur","status_jalur","ketersediaan_sumber_air_skala","variasi_lanskap_skala","perlindungan_angin_kemah_skala","jaringan_komunikasi_skala","tingkat_insiden_skala","descriptiveScores","setDescriptiveScores","useEffect","async","token","localStorage","getItem","gunungResponse","jalurResponse","Promise","all","fetch","concat","headers","Authorization","ok","Error","gunungData","json","jalurData","kesulitan_skala","keamanan_skala","kualitas_fasilitas_skala","kualitas_kemah_skala","keindahan_pemandangan_skala","error","toast","message","setTimeout","fetchData","handleGeneralChange","e","_objectSpread","target","name","value","handleDescriptiveChange","renderSelect","label","options","htmlFor","id","onChange","disabled","map","option","ToastContainer","position","autoClose","PageHeaderBack","onSubmit","preventDefault","finalScores","calculateFinalScores","calculateAverage","scoreKeys","validScores","key","filter","length","sum","acc","round","dataToSend","response","method","body","JSON","stringify","result","success","replace","window","location","reload","required","g","nama_gunung","type","placeholder","status","min","max","rows","onClick"],"sourceRoot":""}